(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+mID":function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,"\n.menu-list a {\n\t/*color: whitesmoke;*/\n}\n.menu-list a:hover {\n\tbackground-color: #209cee;\n\tcolor: whitesmoke;\n}\n",""])},"+ymO":function(t,e,i){"use strict";i("7yAQ")},"0Unb":function(t,e,i){"use strict";i("JVrI")},"0hvd":function(t,e,i){var s=i("BP/i");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(s,n);s.locals&&(t.exports=s.locals)},13:function(t,e,i){t.exports=i("Nrm5")},"19pB":function(t,e,i){"use strict";var s=i("qJw9"),n=new s.a({type:"",name:"Select a status",value:"",date:"",claim_number:"",time:"",claim_id:"",user_id:""});i("iufW"),e.a={active:!1,locked:!1,hasAlert:!1,alert:{type:"is-link",message:""},claimId:"",claim:{},creatingGrossLoss:!1,newGrossLoss:new s.a({gross_loss:"",user_id:0,claim_id:0}),user:{},adjuster:{},reviewer:{},bounds:{},map:{},geocoder:{},autocomplete:{},autocompleteResults:[],selectedAutocompleteResult:0,directions:{},marker:{},home:{lat:30.2702208,lng:-97.7453625},statusesList:[{name:"Select a status"},{name:"Adjuster Assigned",value:"",type:"assignment"},{name:"Reviewer Assigned",value:"",type:"assignment"},{name:"Reassigned",value:"",type:"reassignment"},{name:"Contacted",value:"",type:"date"},{name:"Site Inspected",value:"",type:"date"},{name:"Estimate Received",value:"",type:"value",disabled:!1},{name:"Correction Received",value:"",type:"value"},{name:"File Closed",value:"",type:"date"},{name:"File Reopened",value:"",type:"date"}],newStatus:n,creatingNewStatus:!1,newTag:{},creatingNewTag:!1,newConfirmAlert:{},confirmingAlert:!1,editingGrossLoss:!1,creatingEstimate:!1,date:"",time:"",estimate:{},defaultLineItems:{grossLoss:{type:"ServiceFeeLineItem",description:"Service Fee",amount:0,total:0,taxable:!0,fullyReimbursable:!1,feeSchedule:{},id:1},photos:{type:"QuantifiableLineItem",description:"Claim Photos",quantity:0,rate:0,minimum:0,taxable:!0,fullyReimbursable:!1,total:0},hours:{type:"HourlyRateLineItem",description:"Time & Expense Hours",quantity:0,rate:0,total:0,taxable:!0,fullyReimbursable:!1},reimbursable:{type:"AmountLineItem",description:"Reimbursable Expenses",amount:0,total:0,taxable:!1,fullyReimbursable:!0},mileage:{type:"MileageLineItem",description:"Mileage",quantity:0,rate:0,minimum:0,total:0,taxable:!0,fullyReimbursable:!0,locations:{start:{address:"",destinations:[]},loss:{address:"",destinations:[]},roundTrip:!1}},adminFee:{type:"QuantifiableLineItem",description:"Administrative Fee",quantity:0,rate:0,minimum:0,total:0,taxable:!0,fullyReimbursable:!1},surcharge:{type:"AmountLineItem",description:"Surcharge (10% of Service Fee)",amount:0,minimum:0,total:0,taxable:!0,fullyReimbursable:!1}},creatingInvoice:!1,newInvoice:{},lineItemTypes:[{name:"Line Item",type:"QuantifiableLineItem",quantity:1,rate:0,description:"Description Here",taxable:!0},{name:"T&E Line Item",type:"HourlyRateLineItem",quantitiy:0,rate:0,description:"Hourly Rate Line Item",taxable:!0,fullyReimbursable:!1},{name:"Mileage",type:"MileageLineItem",description:"Mileage",quantity:0,rate:0,minimum:0,total:0,taxable:!0,fullyReimbursable:!0,locations:{start:{address:"",destinations:[]},loss:{address:"",destinations:[]},roundTrip:!1}}]}},"1Dd0":function(t,e,i){"use strict";i("PoRO")},"4Gil":function(t,e,i){"use strict";var s=i("19pB"),n={name:"NewStatus",components:{modal:i("eHHA").a},data:function(){return s.a},mounted:function(){this.newStatus.claim_number=this.claim.claim_number,this.newStatus.claim_id=this.claim.id,this.newStatus.user_id=window.user.id,this.getTodaysDate()},methods:{submit:function(){var t=this;this.newStatus.post("/api/claims/"+this.claim.id+"/statuses").then((function(e){console.log(e),t.claim.statuses.unshift(e),t.$emit("new-status-toggle")})).catch((function(e){console.error(e),t.$emit("new-status-toggle")}))},getTodaysDate:function(){var t=new Date;this.newStatus.date=t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),this.newStatus.time=t.toTimeString().replace(/(GMT-\d{1,}\s{1,}\S[A-z]{1,}.{1,})/g,"").trim()}},computed:{}},a=i("KHd+"),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{show:t.creatingNewStatus,solid:!0}},[i("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("h3",{staticClass:"subtitle has-text-info has-text-weight-light"},[t._v("Claim# "+t._s(t.claim.claim_number))]),t._v(" "),i("h1",{staticClass:"title",staticStyle:{color:"#efefef"}},[t._v(t._s(t.newStatus.name))]),t._v(" "),i("hr",{staticStyle:{background:"#485269"}}),t._v(" "),"Select a status"==t.newStatus.name?i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"status"}},[t._v("Status:")]),t._v(" "),i("div",{staticClass:"control"},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.newStatus.name,expression:"newStatus.name"}],staticClass:"input",attrs:{name:"status"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.newStatus,"name",e.target.multiple?i:i[0])}}},t._l(t.statusesList,(function(e){return i("option",{domProps:{value:e.name,textContent:t._s(e.name)}})})),0)])])]):t._e(),t._v(" "),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"another"}},[t._v("Date:")]),t._v(" "),i("div",{staticClass:"control has-icons-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newStatus.date,expression:"newStatus.date"}],staticClass:"input",attrs:{type:"text",placeholder:"yyyy/mm/dd/"},domProps:{value:t.newStatus.date},on:{input:function(e){e.target.composing||t.$set(t.newStatus,"date",e.target.value)}}}),t._v(" "),i("span",{staticClass:"icon is-small is-left"},[i("i",{staticClass:"fa fa-calendar-o"})]),t._v(" "),t.newStatus.errors.has("date")?i("span",{staticClass:"help is-danger",domProps:{textContent:t._s(t.newStatus.errors.get("date"))}}):t._e()])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"another"}},[t._v("Time:")]),t._v(" "),i("div",{staticClass:"control has-icons-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newStatus.time,expression:"newStatus.time"}],staticClass:"input",attrs:{type:"text",placeholder:"11:35 am"},domProps:{value:t.newStatus.time},on:{input:function(e){e.target.composing||t.$set(t.newStatus,"time",e.target.value)}}}),t._v(" "),i("span",{staticClass:"icon is-small is-left"},[i("i",{staticClass:"fa fa-clock-o"})]),t._v(" "),t.newStatus.errors.has("time")?i("span",{staticClass:"help is-danger",domProps:{textContent:t._s(t.newStatus.errors.get("time"))}}):t._e()])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"value"==t.newStatus.type,expression:"newStatus.type == 'value'"}],staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"another"}},[t._v("Value:")]),t._v(" "),i("div",{staticClass:"control has-icons-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newStatus.value,expression:"newStatus.value"}],staticClass:"input",attrs:{type:"text",placeholder:"$1000.00"},domProps:{value:t.newStatus.value},on:{input:function(e){e.target.composing||t.$set(t.newStatus,"value",e.target.value)}}}),t._v(" "),i("span",{staticClass:"icon is-small is-left"},[i("i",{staticClass:"fa fa-clock-o"})]),t._v(" "),t.newStatus.errors.has("value")?i("span",{staticClass:"help is-danger",domProps:{textContent:t._s(t.newStatus.errors.get("value"))}}):t._e()])]),t._v(" "),i("div",{staticClass:"field",staticStyle:{"margin-top":"1em"}},[i("input",{staticClass:"switch is-small is-rounded is-info",attrs:{id:"switchRoundedInfo",type:"checkbox",name:"switchRoundedInfo",disabled:!0},domProps:{checked:!1}}),t._v(" "),i("label",{attrs:{for:"switchRoundedInfo"}},[t._v("Export to third parties")])]),t._v(" "),i("div",{staticClass:"has-text-right",staticStyle:{"margin-top":"1.5em"}},[i("a",{staticClass:"is-size-7 has-text-white is-light is-small is-link",staticStyle:{"margin-right":"1em","margin-top":"2em"},on:{click:function(e){return e.preventDefault(),t.$emit("new-status-toggle")}}},[t._v("cancel")]),t._v(" "),i("button",{staticClass:"button is-info is-small",attrs:{type:"submit"}},[t._v("Add Status")])])])])}),[],!1,null,null,null);e.a=o.exports},"7yAQ":function(t,e,i){var s=i("bGuW");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(s,n);s.locals&&(t.exports=s.locals)},"8oxB":function(t,e){var i,s,n=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(t){i=a}try{s="function"==typeof clearTimeout?clearTimeout:o}catch(t){s=o}}();var l,c=[],u=!1,d=-1;function m(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var t=r(m);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new h(t,e)),1!==c.length||u||r(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},"8xy1":function(t,e,i){"use strict";i("EeI3")},"9tPo":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,s=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var n,a=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(n=0===a.indexOf("//")?a:0===a.indexOf("/")?i+a:s+a.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},"BP/i":function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,"\n.level .select:not(.is-multiple):not(.is-loading)::after, .navbar-link:not(.is-arrowless)::after {\n\tborder-color: #ccc;\n}\n",""])},EeI3:function(t,e,i){var s=i("+mID");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(s,n);s.locals&&(t.exports=s.locals)},FakD:function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=l(t);if(e){var n=l(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return r(this,i)}}function r(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}i.d(e,"a",(function(){return c}));var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,i,s,r=o(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),e=r.call(this,t),null==t.showOptions&&(e.showOptions=!0),e}return e=l,(i=[{key:"toggleRoundTripQuantity",value:function(){return this.locations.roundTrip?this.quantity=2*parseFloat(this.quantity):this.quantity=parseFloat(this.quantity)/2,this.calculate()}}])&&n(e.prototype,i),s&&n(e,s),l}(i("I8lY").a)},I1BE:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var n=(o=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=s.sources.map((function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"}));return[i].concat(a).concat([n]).join("\n")}var o;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(s[a]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&s[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},I8lY:function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=l(t);if(e){var n=l(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return r(this,i)}}function r(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}i.d(e,"a",(function(){return c}));var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,i,s,r=o(l);function l(t){var e;for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=r.call(this,t)).type="QuantifiableLineItem",e.description="",e.quantity=0,e.rate=0,e.minimum=0,e.total=0,e.taxable=!1,e.fullyReimbursable=!1,t)e[i]=t[i];return e.calculate(),e}return e=l,(i=[{key:"calculate",value:function(){return this.total=(parseFloat(this.rate)*parseFloat(this.getBillableQuantity())).toFixed(2)}},{key:"getBillableQuantity",value:function(){return Number.isNaN(parseFloat(this.quantity))?(this.quantity=0,0):this.hasMoreThanMinimum()?parseFloat(this.quantity)-parseFloat(this.minimum):this.hasLessThanMinimum()?0:parseFloat(this.quantity)}},{key:"hasMoreThanMinimum",value:function(){return!!(this.has("minimum")&&this.quantity>this.minimum)}},{key:"hasLessThanMinimum",value:function(){return!!(this.has("minimum")&&this.quantity<=this.minimum)}}])&&n(e.prototype,i),s&&n(e,s),l}(i("kK6B").a)},JVrI:function(t,e,i){var s=i("z5w1");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(s,n);s.locals&&(t.exports=s.locals)},"KHd+":function(t,e,i){"use strict";function s(t,e,i,s,n,a,o,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):n&&(l=r?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}i.d(e,"a",(function(){return s}))},Nrm5:function(t,e,i){"use strict";i.r(e);var s=i("XuX8"),n=i.n(s),a=i("jE9Z"),o=i("19pB"),r=i("qJw9"),l={name:"GrossLoss",props:["claimId","userId","estimates"],data:function(){return{editingGrossLoss:!1,estimate:new r.a({gross_loss:0,user_id:0,claim_id:0})}},mounted:function(){this.estimate.user_id=this.userId,this.estimate.claim_id=this.claimId},computed:{hasEstimates:function(){return this.estimates.length>0}},methods:{submit:function(){var t=this;this.estimate.post("/api/claims/"+this.claimId+"/estimates").then((function(e){console.log(e),t.estimates.push(e),t.estimate.gross_loss=e.gross_loss})).catch((function(t){console.error(t)}))},toggleEditing:function(){this.editingGrossLoss=!this.editingGrossLoss,this.editingGrossLoss&&document.getElementById("gross-loss").focus()}}},c=i("KHd+"),u=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns is-multiline is-mobile"},[i("div",{staticClass:"column is-one-third is-hidden-mobile"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-content claim-stat",on:{mouseleave:function(e){t.editingGrossLoss=!1}}},[i("h3",{staticClass:"subtitle stat-title"},[t._v("Gross Loss Amount")]),t._v(" "),i("form",{staticStyle:{"margin-top":"-1.75em"},on:{submit:function(e){return e.preventDefault(),t.submit(e)},keydown:function(e){return t.estimate.errors.clear(e.target.name)}}},[i("div",{staticClass:"field",staticStyle:{"margin-top":"-5px"}},[i("div",{staticClass:"control has-icons-right has-icons-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.estimate.gross_loss,expression:"estimate.gross_loss"}],staticClass:"input",staticStyle:{border:"none",background:"transparent","box-shadow":"none","font-size":"2em","font-weight":"bold",color:"#4b9ae7","padding-top":"0","padding-bottom":"0",height:"1.5em","text-align":"center","justify-content":"center"},attrs:{type:"text",id:"gross-loss",readonly:!t.editingGrossLoss},domProps:{value:t.estimate.gross_loss},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"escape",void 0,e.key,void 0)?null:t.toggleEditing(e)}],input:function(e){e.target.composing||t.$set(t.estimate,"gross_loss",e.target.value)}}}),t._v(" "),i("span",{staticClass:"icon is-small is-right",staticStyle:{"pointer-events":"auto"}},[t.editingGrossLoss?t._e():i("i",{staticClass:"fa fa-pencil",staticStyle:{color:"#4b9ae7",cursor:"pointer","margin-top":"1rem"},on:{click:t.toggleEditing}}),t._v(" "),t.editingGrossLoss?i("i",{staticClass:"fa fa-cloud-upload",staticStyle:{cursor:"pointer","margin-top":"1rem"},on:{click:t.toggleEditing}}):t._e()])]),t._v(" "),t.estimate.errors.has("gross_loss")?i("span",{staticClass:"help is-danger",domProps:{textContent:t._s(t.estimate.errors.get("gross_loss"))}}):t._e()])]),t._v(" "),i("h3",{staticClass:"subtitle stat-title",on:{click:t.toggleEditing}},[i("a",[t.hasEstimates?i("span",[t._v("Issue Correction")]):i("span",[t._v("Create Estimate")])])])])])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-half-mobile"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content claim-stat"},[e("h3",{staticClass:"subtitle stat-title"},[this._v("Time Open")]),this._v(" "),e("h1",{staticClass:"title stat has-text-grey"},[this._v("N/A")]),this._v(" "),e("h3",{staticClass:"subtitle stat-title"},[this._v("Days")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-half-mobile"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content claim-stat"},[e("h3",{staticClass:"subtitle stat-title"},[this._v("Time To Contact")]),this._v(" "),e("h1",{staticClass:"title stat has-text-grey"},[this._v("N/A")]),this._v(" "),e("h3",{staticClass:"subtitle stat-title"},[this._v("Days")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-half-mobile"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content claim-stat"},[e("h3",{staticClass:"subtitle stat-title"},[this._v("Time To Inspection")]),this._v(" "),e("h1",{staticClass:"title stat has-text-grey"},[this._v("N/A")]),this._v(" "),e("h3",{staticClass:"subtitle stat-title"},[this._v("Days")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-half-mobile"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content claim-stat"},[e("h3",{staticClass:"subtitle stat-title"},[this._v("Time to Estimate")]),this._v(" "),e("h1",{staticClass:"title stat has-text-grey"},[this._v("N/A")]),this._v(" "),e("h3",{staticClass:"subtitle stat-title"},[this._v("Days")])])])])}],!1,null,null,null).exports,d={name:"Tags",data:function(){return o.a}},m=Object(c.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"tags"},[t._l(t.claim.tags,(function(e){return i("span",{staticClass:"tag is-dark"},[i("a",{staticStyle:{color:"#fff"},attrs:{href:"/tags/"+e.name+"/claims"},domProps:{textContent:t._s(e.name)}})])})),t._v(" "),i("span",{staticClass:"icon",on:{click:function(e){t.creatingNewTag=!t.creatingNewTag}}},[i("i",{staticClass:"fa fa-plus",staticStyle:{color:"#ccc",position:"relative",top:"-3px"}})])],2)])])}),[],!1,null,null,null).exports,f={name:"Map",data:function(){return o.a},created:function(){this.findCoords()},mounted:function(){this.bounds=new google.maps.LatLngBounds,this.map=new google.maps.Map(document.getElementById("map"),{zoom:10,center:this.home}),this.marker=new google.maps.Marker({position:this.home,map:this.map})},methods:{findCoords:function(){var t=this.claim.claim_data.client.addresses,e=t.find((function(t){return null!=t.latitude&&null!=t.longitude}));e?(this.home.lat=+e.latitude,this.home.lng=+e.longitude):this.geocodeAddress(t)},geocodeAddress:function(t){var e=this,i=t.find((function(t){return"Property"==t.type}));!i&&t&&((i=t[0]).type="Property",t.push(i));var s=new google.maps.Geocoder,n="".concat(i.street," ").concat(i.city," ").concat(i.state,", ").concat(i.zip);s.geocode({address:n},(function(s,n){e.marker.setMap(null),e.map.setCenter(s[0].geometry.location),e.home.lat=s[0].geometry.location.lat(),e.home.lng=s[0].geometry.location.lng(),e.marker=new google.maps.Marker({position:e.home,map:e.map});var a=t.indexOf(i),o={latitude:e.home.lat,longitude:e.home.lng};t.splice(a,1,Object.assign(i,o)),window.axios.put("/api/claims/".concat(e.claim.id,"/geometry"),t).then((function(t){return console.log(t)})).catch((function(t){return console.error(t)}))}))}}},h={name:"Contacts",components:{claimMap:Object(c.a)(f,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"map is-flex is-flex-shrink-1",attrs:{id:"map"}})}),[],!1,null,null,null).exports},data:function(){return o.a},mounted:function(){},methods:{ucwords:function(t){return t.toLowerCase().replace(/\b[a-z]/g,(function(t){return t.toUpperCase()}))}},computed:{accessContact:function(){return claim.claim_data.accessContact.name}}},v={name:"Description",data:function(){return o.a}},p={name:"Info",data:function(){return o.a}},_={name:"Claim",components:{claimStats:u,tags:m,contacts:Object(c.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"content"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-4"},[i("claim-map")],1),t._v(" "),i("div",{staticClass:"column"},[i("h3",{staticClass:"subtitle",staticStyle:{color:"#bbb","font-size":".8em"}},[t._v("Insured")]),t._v(" "),i("h2",{staticClass:"title",staticStyle:{"font-size":"2em","font-weight":"700",color:"#499BE8"}},[t._v(t._s(t.ucwords(t.claim.claim_data.client.name)))]),t._v(" "),i("p",[i("strong",[t._v("Claim# ")]),t._v(" "+t._s(t.claim.claim_number))]),t._v(" "),i("p",[i("strong",[t._v("Email: ")]),t._v(" "+t._s(t.claim.claim_data.client.email||"Not Provided"))]),t._v(" "),t._l(t.claim.claim_data.client.phoneNumbers,(function(e){return i("div",[null!=e.number?i("p",[i("strong",[t._v(t._s(e.type)+" #:")]),t._v(" "),i("a",{attrs:{href:"tel:+"+e.number}},[t._v(t._s(e.number||"000-000-0000"))])]):t._e()])}))],2),t._v(" "),i("div",{staticClass:"column"},[i("dl",{staticClass:"dl-horizontal"},t._l(t.claim.claim_data.client.addresses,(function(e){return i("div",[i("dt",[t._v(t._s(e.type)+" Address:")]),t._v(" "),i("dd",[t._v(t._s(e.street)+" "),i("br"),t._v(" "+t._s(e.city)+" "+t._s(e.state)+", "+t._s(e.zip)+" "),i("br"),t._v(" "+t._s(e.latitude)+" "),i("br"),t._v(" "+t._s(e.longitude))])])})),0)]),t._v(" "),i("div",{staticClass:"column"},[t.claim.claim_data.accessContact?i("div",[t.accessContact?i("h3",{staticClass:"subtitle",staticStyle:{color:"#aaa","font-size":".8em"}},[t._v("Access Contact")]):t._e(),t._v(" "),t.claim.claim_data.accessContact.name?i("h2",{staticClass:"title",staticStyle:{"font-size":"1.25em"}},[t._v(t._s(t.claim.claim_data.accessContact.name))]):t._e(),t._v(" "),t._l(t.claim.claim_data.accessContact.phoneNumbers,(function(e){return i("p",{staticStyle:{"margin-bottom":"1.5rem"}},[e.number?i("span",[i("strong",[t._v(t._s(e.type))]),t._v(": "+t._s(e.number))]):t._e()])}))],2):t._e(),t._v(" "),t.claim.claim_data.claimant?i("div",[t.claim.claim_data.claimant.name?i("h3",{staticClass:"subtitle",staticStyle:{color:"#aaa","font-size":".8em"}},[t._v("Claimant")]):t._e(),t._v(" "),i("h2",{staticClass:"title",staticStyle:{"font-size":"1.25em"}},[t._v(t._s(t.claim.claim_data.claimant.name))]),t._v(" "),t._l(t.claim.claim_data.claimant.phoneNumbers,(function(e){return i("p",[e.number?i("span",[i("strong",[t._v(t._s(e.type))]),t._v(": "),i("a",{attrs:{href:"tel:+"+e.number}},[t._v(t._s(e.number))])]):t._e()])}))],2):t._e(),t._v(" "),t.claim.claim_data.deskAdjuster?i("div",[t.claim.claim_data.deskAdjuster.name?i("h3",{staticClass:"subtitle",staticStyle:{color:"#aaa","font-size":".8em"}},[t._v("Desk Adjuster")]):t._e(),t._v(" "),i("h2",{staticClass:"title",staticStyle:{"font-size":"1.25em"}},[t._v(t._s(t.claim.claim_data.deskAdjuster.name))]),t._v(" "),t._l(t.claim.claim_data.deskAdjuster.phoneNumbers,(function(e){return i("p",[e.number?i("span",[e.type?i("strong",[t._v(t._s(e.type))]):t._e(),t._v(": "),i("a",{attrs:{href:"tel:+"+e.number}},[t._v(t._s(e.number))])]):t._e()])})),t._v(" "),t.claim.claim_data.deskAdjuster.email?i("p",[i("strong",[t._v("Email")]),t._v(": "+t._s(t.claim.claim_data.deskAdjuster.email))]):t._e()],2):t._e()])])])])])])])}),[],!1,null,null,null).exports,description:Object(c.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("p",{domProps:{textContent:this._s(this.claim.description)}})])])])])])}),[],!1,null,null,null).exports,claimInfo:Object(c.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"card"},[t._m(0),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"content"},[i("dl",{staticClass:"dl-horizontal",staticStyle:{width:"100%"}},[i("dt",[t._v("Type Of Loss:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.type_of_loss||"Not Provided"))]),t._v(" "),i("dt",[t._v("Catastrophe:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.catastrophe?t.claim.catastrophe:"no"))]),t._v(" "),i("dt",[t._v("Commercial:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.is_commercial?"yes":"no"))]),t._v(" "),i("dt",[t._v("Date Of Loss:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.date_of_loss||"Not Provided"))]),t._v(" "),i("dt",[t._v("Date Received:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.date_received||"Not Provided"))]),t._v(" "),i("dt",[t._v("Transaction Id:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.transaction_id||"Not Provided"))]),t._v(" "),i("dt",[t._v("Price List Area:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.price_list_area||"Not Provided"))])])])])])]),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"card"},[t._m(1),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"content"},[i("dl",{staticClass:"dl-horizontal",staticStyle:{width:"100%"}},[i("dt",[t._v("Policy #:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.claim_data.policy.policyNumber))]),t._v(" "),i("dt",[t._v("Overall Deductible:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.claim_data.policy.overallDeductible||0))]),t._v(" "),i("dt",[t._v("Policy Type:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.claim_data.policy.policyType||"Not Provided"))]),t._v(" "),i("dt",[t._v("Policy Start Date:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.claim_data.policy.policyStart||"Not Provided"))]),t._v(" "),i("dt",[t._v("Policy End Date:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.claim_data.policy.policyEnd||"Not Provided"))]),t._v(" "),i("dt",[t._v("Apply Deductible:")]),t._v(" "),i("dd",[t._v(t._s(t.claim.claim_data.policy.applyDeductible))])])])])])]),t._v(" "),t.claim.claim_data.policy.coverages.length?i("div",{staticClass:"column"},[i("div",{staticClass:"card is-warning"},[t._m(2),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"content"},[i("dl",{staticClass:"dl-horizontal",staticStyle:{width:"100%"}},t._l(t.claim.claim_data.policy.coverages,(function(e){return i("div",[i("div",{staticClass:"col-sm-4"},[i("dl",{staticClass:"dl-horizontal"},[i("dt",[t._v("Coverage Name:")]),t._v(" "),i("dd",[t._v(t._s(e.covName))]),t._v(" "),i("dt",[t._v("Deductible:")]),t._v(" "),i("dd",[t._v(t._s(e.deductible||"not provided"))]),t._v(" "),i("dt",[t._v("Policy Limit:")]),t._v(" "),i("dd",[t._v(t._s(e.policyLimit||"not provided"))]),t._v(" "),i("dt",[t._v("Reserve Ammount:")]),t._v(" "),i("dd",[t._v(t._s(e.reserveAmt||"not provided"))]),i("hr")])])])})),0)])])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"card-header is-info"},[e("p",{staticClass:"card-header-title"},[this._v("\n\t\t\t\t      Loss Info\n\t\t\t\t    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"card-header is-info"},[e("p",{staticClass:"card-header-title"},[this._v("\n\t\t\t\t      Policy Info\n\t\t\t\t    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"card-header is-info"},[e("p",{staticClass:"card-header-title"},[this._v("\n\t\t\t\t      Coverages\n\t\t\t\t    ")])])}],!1,null,null,null).exports},created:function(){this.hasAlert=!0,this.alert.message="You have been assigned to this claim please confirm or reject this assignment"},mounted:function(){this.claim.assignments.length>0&&(this.adjuster=this.claim.assignments.find((function(t){return t.type="adjuster"})))},data:function(){return o.a}},g=Object(c.a)(_,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticStyle:{width:"100%"}},[e("contacts"),this._v(" "),e("tags")],1),this._v(" "),e("description"),this._v(" "),e("claim-info")],1)}),[],!1,null,null,null).exports,y={name:"Dropdown",props:["items","eventName","buttonStyle","up","right","carrier"],data:function(){return{show:!1}},methods:{handle:function(t,e){return this.$emit(t,e)},disabled:function(t,e){return"MCM"!==t||"TWIA"===e}}},b=Object(c.a)(y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown",class:{"is-active":t.show,"is-up":t.up,"is-right":t.right},on:{mouseleave:function(e){t.show=!1}}},[i("div",{staticClass:"dropdown-trigger",on:{click:function(e){t.show=!t.show}}},[i("button",{staticClass:"button",class:t.buttonStyle,attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"}},[i("span",[t._t("default")],2),t._v(" "),i("span",{staticClass:"icon is-small"},[i("i",{staticClass:"fa",class:{"fa-angle-up":t.up,"fa-angle-down":null==t.up},attrs:{"aria-hidden":"true"}})])])]),t._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[i("div",{staticClass:"dropdown-content"},t._l(t.items,(function(e){return t.disabled(e.name,t.carrier.label)?i("a",{staticClass:"dropdown-item",on:{click:function(i){return t.handle(t.eventName,e)}}},[t._v("\n        "+t._s(e.name)+" \n      ")]):t._e()})),0)])])}),[],!1,null,null,null).exports,C=i("I8lY"),w=i("gWvg"),x={name:"InvoiceOptions",props:["invoice"],components:{dropdown:b},mounted:function(){},data:function(){return o.a},methods:{addLineItem:function(t){return t.feeSchedule=this.invoice.feeSchedule,this.$emit("new-line-item",t)},toggleMcmLineItem:function(){var t=this.lineItemTypes.find((function(t){return"MCM"==t.name}));return t.amount=this.invoice.feeSchedule.mcm,this.invoice.options.mcm?this.addLineItem(t):this.$emit("remove-line-item",t)},toggleTaxable:function(){return this.$emit("toggle-taxable")}}},I=(i("t9sP"),Object(c.a)(x,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level"},[i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("h1",{staticClass:"title has-text-weight-light"},[i("span",{staticClass:"has-text-weight-bold"},[t._v("Invoice #")]),t._v(" "+t._s(t.claim.claim_number))])]),t._v(" "),t.invoice.options.show?i("div",{staticClass:"level-item"},["TWIA"==t.invoice.carrier.label?i("div",{staticClass:"field",staticStyle:{margin:"0 0 0 0"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.invoice.options.mcm,expression:"invoice.options.mcm"}],staticClass:"switch is-rounded is-small is-info",attrs:{id:"isMcm",type:"checkbox",name:"isMcm"},domProps:{checked:Array.isArray(t.invoice.options.mcm)?t._i(t.invoice.options.mcm,null)>-1:t.invoice.options.mcm},on:{change:[function(e){var i=t.invoice.options.mcm,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=t._i(i,null);s.checked?a<0&&t.$set(t.invoice.options,"mcm",i.concat([null])):a>-1&&t.$set(t.invoice.options,"mcm",i.slice(0,a).concat(i.slice(a+1)))}else t.$set(t.invoice.options,"mcm",n)},t.toggleMcmLineItem]}}),t._v(" "),i("label",{attrs:{for:"isMcm"}},[t._v("MCM")])]):t._e()]):t._e()]),t._v(" "),i("div",{staticClass:"level-right has-text-right"})])}),[],!1,null,null,null).exports),S=i("iufW"),k=i("o0o1"),L=i.n(k),E={name:"AddressAutocomplete",props:["text","placeholder","color","leftIcon","rightIcon","iconToolTip","iconColor","tooltip","deleteable","idx"],data:function(){return{search:"",autocomplete:{},autocompleteResults:[],selectedAutocompleteResult:0}},mounted:function(){this.text&&(this.search=this.text),this.autocomplete=new google.maps.places.AutocompleteService},methods:{addLocation:function(t){return this.$emit("new-destination",t)},deleteItem:function(){var t;return t="Destination before loss address"==this.placeholder?"start":"loss",this.$emit("delete-item",{idx:this.idx,type:t})},getAddress:function(){var t=this;""==this.search&&(this.autocompleteResults=[]);this.autocomplete.getQueryPredictions({input:this.search},(function(e,i){i==google.maps.places.PlacesServiceStatus.OK&&e?t.autocompleteResults=e:alert(i)}))},setSelectedAutocompleteResult:function(t){return this.selectedAutocompleteResult=t,this.selectAddress()},selectAddress:function(){if(this.autocompleteResults.length&&(this.search=this.autocompleteResults[this.selectedAutocompleteResult].description,this.selectedAutocompleteResult=0,this.autocompleteResults=[]),null!=this.idx){var t={address:this.search,idx:this.idx};return this.$emit("address-selected",t)}return this.$emit("address-selected",this.search)}}};i("1Dd0");function T(t,e,i,s,n,a,o){try{var r=t[a](o),l=r.value}catch(t){return void i(t)}r.done?e(l):Promise.resolve(l).then(s,n)}function A(t){return function(){var e=this,i=arguments;return new Promise((function(s,n){var a=t.apply(e,i);function o(t){T(a,s,n,o,r,"next",t)}function r(t){T(a,s,n,o,r,"throw",t)}o(void 0)}))}}var O={name:"LineItem",props:["lineItem","estimates","invoice","id"],components:{dropdown:b,autocompleteAddress:Object(c.a)(E,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control has-icons-left has-icons-right tooltip",attrs:{"data-tooltip":t.tooltip?t.tooltip:t.placeholder}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",class:[t.color],attrs:{type:"input",placeholder:t.placeholder},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.getAddress()}],keyup:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;t.selectedAutocompleteResult<4?t.selectedAutocompleteResult++:t.selectedAutocompleteResult=0},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;t.selectedAutocompleteResult>0?t.selectedAutocompleteResult--:t.selectedAutocompleteResult=0},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.selectAddress()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.selectAddress()}]}}),t._v(" "),i("span",{staticClass:"icon is-small is-right has-text-bold"},[i("i",{staticClass:"fa",class:[t.leftIcon],style:{color:t.iconColor}})]),t._v(" "),i("span",{staticClass:"icon is-left is-small has-text-bold tooltip is-tooltip-left",staticStyle:{cursor:"pointer"},attrs:{"data-tooltip":"Loss Address"==t.placeholder?"Add location after loss":"Add location before loss"},on:{click:function(e){void 0!==t.deleteable?t.deleteItem():t.addLocation()}}},[i("i",{staticClass:"fa",class:[t.rightIcon],staticStyle:{"font-size":"16px",color:"#343b4c"}})]),t._v(" "),t.autocompleteResults.length?i("aside",{staticClass:"menu",staticStyle:{"font-size":".75em"}},[i("ul",{staticClass:"menu-list"},t._l(t.autocompleteResults,(function(e,s){return i("li",[i("a",{class:{"is-active":s==t.selectedAutocompleteResult},domProps:{textContent:t._s(e.description)},on:{click:function(e){return t.setSelectedAutocompleteResult(s)}}})])})),0)]):t._e()])}),[],!1,null,null,null).exports},data:function(){return o.a},mounted:function(){this.lineItem.has("locations")&&(this.directions=new google.maps.DirectionsService)},computed:{finalDestination:function(){return this.isLossAddressFinalDestination?this.getLossAddressString():this.getFinalDestination()},isLossAddressFinalDestination:function(){return!(this.lineItem.locations.loss.destinations.length>0)},hasDestinationsBeforeLoss:function(){return this.lineItem.locations.start.destinations.length>0},getWaypoints:function(){var t=[];if(this.hasDestinationsBeforeLoss&&this.lineItem.locations.start.destinations.forEach((function(e){if(e.address){var i={location:"",stopover:!0};i.location=e.address,t.push(i)}})),!this.isLossAddressFinalDestination){this.lineItem.locations.loss.destinations.forEach((function(e){if(e.address){var i={location:"",stopover:!0};i.location=e.address,t.push(i)}})),t.pop();var e={location:"",stopover:!0};e.location=this.getLossAddressString(),t.unshift(e)}return t}},methods:{addLocation:function(){return this.lineItem.locations.start.destinations.push({address:""}),this.updateTotal()},addPostLossAddress:function(){return this.lineItem.locations.loss.destinations.push({address:""}),this.updateTotal()},updateStartAddress:function(t){return this.lineItem.locations.start.address=t,this.updateTotal()},updateLossAddress:function(t){return this.lineItem.locations.loss.address=t,this.updateTotal()},updateBeforeLossAddress:function(t){var e=this.lineItem.locations.start.destinations,i=e[t.idx];return i.address=t.address,e.splice(t.idx,1,i),this.updateTotal()},updateAfterLossAddress:function(t){var e=this.lineItem.locations.loss.destinations,i=e[t.idx];return i.address=t.address,e.splice(t.idx,1,i),this.updateTotal()},deleteDestination:function(t){return this.lineItem.locations[t.type].destinations.splice(t.idx,1)},updateTotal:function(){return this.lineItem.calculate(),this.$emit("line-item-updated")},toggleRoundTrip:function(t){return t.toggleRoundTripQuantity(),this.updateTotal()},toggleOptions:function(t){return this.lineItem.showOptions=!this.lineItem.showOptions,this.updateTotal()},toggleCreatingGrossLoss:function(){var t=this;return A(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.creatingGrossLoss=!t.creatingGrossLoss,!t.creatingGrossLoss){e.next=4;break}return e.next=4,t.getGrossLossInput().then((function(t){return t.focus()}));case 4:case"end":return e.stop()}}),e)})))()},getGrossLossInput:function(){var t=this;return A(L.a.mark((function e(){var i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t,e.abrupt("return",new Promise((function(t,e){i.$nextTick((function(){return t(i.$refs.grossLoss)}))})));case 2:case"end":return e.stop()}}),e)})))()},getGrossLossSelect:function(){var t=this;return A(L.a.mark((function e(){var i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t,e.abrupt("return",new Promise((function(t,e){i.$nextTick((function(){return t(i.$refs.grossLossSelect)}))})));case 2:case"end":return e.stop()}}),e)})))()},createNewGrossLoss:function(){var t=this;return A(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.newGrossLoss.user_id=t.user.id,t.newGrossLoss.claim_id=t.claim.id,e.next=4,t.newGrossLoss.post("/api/claims/".concat(t.claim.id,"/estimates")).then((function(e){t.claim.estimates.unshift(e),t.creatingGrossLoss=!1}));case 4:return e.next=6,t.getGrossLossSelect().then((function(e){var i=new Event("change");e.selectedIndex=1,t.lineItem.amount=e.options[e.selectedIndex].value,e.dispatchEvent(i)}));case 6:case"end":return e.stop()}}),e)})))()},usesEstimates:function(t){return"ServiceFeeLineItem"==t.type||"DifferenceInTiersLineItem"==t.type},hasEstimates:function(){return this.estimates.length>0},getLossCoords:function(){return this.claim.claim_data.client.addresses.find((function(t){return t.latitude&&t.longitude}))},getLossAddressString:function(){var t=this.claim.claim_data.client.addresses.find((function(t){return t.latitude&&t.longitude})),e="".concat(t.street,", ").concat(t.city," ").concat(t.state,", ").concat(t.zip);return this.lineItem.locations.loss.address=e,e},getFinalDestination:function(){var t=this.lineItem.locations.loss.destinations.slice(-1);return void 0!==t?t[0].address:"undetermined"},getDirections:function(){var t=this;this.directions.route({origin:"".concat(this.lineItem.locations.start.address),waypoints:this.getWaypoints,destination:"".concat(this.finalDestination),travelMode:google.maps.TravelMode.DRIVING},(function(e,i){var s=0;"OK"===i?(console.log(e),e.routes[0].legs.forEach((function(t){return s+=parseFloat(62137e-8*t.distance.value)})),t.lineItem.quantity=+s.toFixed(2),t.updateTotal(t.lineItem)):(console.error(i),window.alert("Directions request failed due to "+i))}))}}},R=(i("0Unb"),Object(c.a)(O,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"is-line-item",staticStyle:{"line-height":"1",border:"1px solid #e0e0e0"}},[i("div",{staticClass:"is-line-item-data",class:{"items-center":"MileageLineItem"!==t.lineItem.type},staticStyle:{width:"85%"}},[i("div",{staticClass:"control has-icons-right",staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-end",width:"30%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.lineItem.description,expression:"lineItem.description"}],staticClass:"input",attrs:{type:"input"},domProps:{value:t.lineItem.description},on:{change:function(e){return t.updateTotal()},input:function(e){e.target.composing||t.$set(t.lineItem,"description",e.target.value)}}}),t._v(" "),t.lineItem.has("locations")?i("span",{staticClass:"icon tooltip is-right has-tooltip-info is-small is-rounded",staticStyle:{cursor:"pointer"},attrs:{"data-tooltip":"Toggle mileage options"},on:{click:function(e){return t.toggleOptions(t.lineItem)}}},[i("span",{staticClass:"is-small has-text-bold ",class:{"has-text-info":t.lineItem.showOptions,"has-text-grey":!t.lineItem.showOptions}},[i("i",{staticClass:"fa",class:{"fa-toggle-off":!t.lineItem.showOptions,"fa-toggle-on":t.lineItem.showOptions},staticStyle:{"font-size":"16px"}})])]):t._e(),t._v(" "),t.lineItem.has("locations")&&t.lineItem.showOptions?i("div",{staticClass:"mileage-options is-flex",staticStyle:{padding:".5em",display:"flex","align-items":"space-between",width:"100%"}},[i("div",{staticClass:"left",staticStyle:{display:"flex","align-items":"flex-start",width:"100%"}},[t.lineItem.has("locations")?i("span",{},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.lineItem.locations.roundTrip,expression:"lineItem.locations.roundTrip"}],staticClass:"switch is-rounded is-small is-info",attrs:{disabled:0==t.lineItem.quantity||!t.lineItem.locations.start,type:"checkbox",id:"round-trip-"+t.id,name:"round-trip-"+t.id},domProps:{checked:Array.isArray(t.lineItem.locations.roundTrip)?t._i(t.lineItem.locations.roundTrip,null)>-1:t.lineItem.locations.roundTrip},on:{change:[function(e){var i=t.lineItem.locations.roundTrip,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=t._i(i,null);s.checked?a<0&&t.$set(t.lineItem.locations,"roundTrip",i.concat([null])):a>-1&&t.$set(t.lineItem.locations,"roundTrip",i.slice(0,a).concat(i.slice(a+1)))}else t.$set(t.lineItem.locations,"roundTrip",n)},function(e){return t.toggleRoundTrip(t.lineItem)}]}}),t._v(" "),i("label",{attrs:{for:"round-trip-"+t.id}},[i("small",[t._v("Round trip?")])])]):t._e()]),t._v(" "),i("div",{staticClass:"right",staticStyle:{display:"flex","align-items":"flex-end"}},[i("button",{staticClass:"button is-rounded is-small is-dark tooltip",attrs:{"data-tooltip":"get directions"},on:{click:function(e){return t.getDirections()}}},[t._m(0)])])]):t._e()]),t._v(" "),t.lineItem.has("locations")?i("div",{staticClass:"is-line-item-column",staticStyle:{"line-height":"1",width:"30%"}},[i("autocomplete-address",{style:t.lineItem.showOptions?"margin-bottom: .5em;":"margin-bottom: 0;",attrs:{placeholder:"Start Address",text:t.lineItem.locations.start.address,leftIcon:"fa-map-marker",rightIcon:"fa-plus-circle",iconColor:"#31c9a1"},on:{"address-selected":t.updateStartAddress,"new-destination":t.addLocation},model:{value:t.lineItem.locations.start.address,callback:function(e){t.$set(t.lineItem.locations.start,"address",e)},expression:"lineItem.locations.start.address"}}),t._v(" "),t._l(t.lineItem.locations.start.destinations,(function(e,s){return t.lineItem.showOptions?i("autocomplete-address",{key:100*(s+1),staticStyle:{"margin-bottom":".5em"},attrs:{text:e.address,idx:s,leftIcon:"fa-map-marker",rightIcon:"fa-times-circle",iconColor:"#ff3860",placeholder:"Destination before loss address",deleteable:!0},on:{"address-selected":t.updateBeforeLossAddress,"delete-item":t.deleteDestination}}):t._e()})),t._v(" "),t.lineItem.showOptions?i("autocomplete-address",{attrs:{text:t.getLossAddressString(),placeholder:"Loss Address",leftIcon:"fa-map-pin",rightIcon:"fa-plus-circle",iconColor:"#209cee"},on:{"address-selected":t.updateLossAddress,"new-destination":t.addPostLossAddress}}):t._e(),t._v(" "),t._l(t.lineItem.locations.loss.destinations,(function(e,s){return t.lineItem.showOptions?i("autocomplete-address",{key:51*(s+1),staticStyle:{"margin-top":".5em"},attrs:{idx:s,text:e.address,leftIcon:"fa-map-marker",rightIcon:"fa-times-circle",iconColor:"#ffdd57",placeholder:"Destination after loss address",deleteable:!0},on:{"address-selected":t.updateAfterLossAddress,"delete-item":t.deleteDestination}}):t._e()}))],2):t._e(),t._v(" "),t.lineItem.has("quantity")?i("div",{staticClass:"control has-icons-left",staticStyle:{width:"12.5%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.lineItem.quantity,expression:"lineItem.quantity"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.lineItem.quantity},on:{change:function(e){return t.updateTotal()},input:function(e){e.target.composing||t.$set(t.lineItem,"quantity",e.target.value)}}}),t._v(" "),t._m(1)]):t._e(),t._v(" "),t.lineItem.has("amount")?i("div",{staticClass:"control has-icons-left has-icons-right",staticStyle:{width:"30%"}},[t.usesEstimates(t.lineItem)&&!t.creatingGrossLoss?i("div",{staticClass:"select is-fullwidth"},[i("div",{staticClass:"tooltip",attrs:{"data-tooltip":"Gross Loss Amount"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.lineItem.amount,expression:"lineItem.amount"}],ref:"grossLossSelect",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.lineItem,"amount",e.target.multiple?i:i[0])},function(e){return t.updateTotal()}]}},[i("option",{attrs:{value:"0",disabled:""}},[t._v("Select Gross Loss Amount")]),t._v(" "),t._l(t.estimates,(function(e){return i("option",{domProps:{value:e.gross_loss,textContent:t._s(e.gross_loss)}})})),t._v(" "),t.invoice.feeSchedule.erroneous?i("option",{attrs:{value:"erroneous"}},[t._v("erroneous")]):t._e(),t._v(" "),t.invoice.feeSchedule.cwop?i("option",{attrs:{value:"cwop"}},[t._v("CWOP")]):t._e()],2)])]):t._e(),t._v(" "),t.creatingGrossLoss&&t.usesEstimates(t.lineItem)?i("input",{directives:[{name:"model",rawName:"v-model",value:t.newGrossLoss.gross_loss,expression:"newGrossLoss.gross_loss"}],ref:"grossLoss",staticClass:"input",attrs:{type:"input",placeholder:"Add a gross loss amount"},domProps:{value:t.newGrossLoss.gross_loss},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createNewGrossLoss(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.createNewGrossLoss(e)}],input:function(e){e.target.composing||t.$set(t.newGrossLoss,"gross_loss",e.target.value)}}}):t._e(),t._v(" "),t.creatingGrossLoss&&t.usesEstimates(t.lineItem)?i("span",{staticClass:"icon is-left"},[i("i",{staticClass:"fa fa-usd"})]):t._e(),t._v(" "),t.creatingGrossLoss&&t.usesEstimates(t.lineItem)?i("span",{staticClass:"icon is-right",staticStyle:{background:"#209cee",color:"whitesmoke","border-radius":"0 6px 6px 0",border:"1px solid","border-color":"#209cee","border-left":"none",cursor:"pointer"},attrs:{"data-tooltip":"Save gross loss amount"},on:{click:t.createNewGrossLoss}},[i("i",{staticClass:"fa fa-check"})]):t._e(),t._v(" "),t.hasEstimates()&&t.usesEstimates(t.lineItem)&&!t.creatingGrossLoss?i("span",{staticClass:"icon is-small is-left has-text-bold"},[i("small",[t._v("gla")])]):t._e(),t._v(" "),t.usesEstimates(t.lineItem)?t._e():i("div",{staticClass:"control has-icons-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.lineItem.amount,expression:"lineItem.amount"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.lineItem.amount},on:{change:function(e){return t.updateTotal()},input:function(e){e.target.composing||t.$set(t.lineItem,"amount",e.target.value)}}}),t._v(" "),t._m(2)])]):t._e(),t._v(" "),t.usesEstimates(t.lineItem)?i("a",{staticClass:"button is-small is-dark is-outlined is-rounded",on:{click:t.toggleCreatingGrossLoss}},[i("span",{staticClass:"is-small",staticStyle:{"margin-right":".5em"}},[i("i",{staticClass:"fa",class:{"fa-plus-circle":!t.creatingGrossLoss,"fa-times-circle":t.creatingGrossLoss}})]),t._v(" "),i("span",{domProps:{textContent:t._s(t.creatingGrossLoss?"Cancel":"Add Gross Loss Amount")}})]):t._e(),t._v(" "),t.usesEstimates(t.lineItem)&&t.lineItem.has("newAmount")?i("div",{staticClass:"field"},[i("div",{staticClass:"control has-icons-left"},[t.hasEstimates()?i("div",{staticClass:"select is-fullwidth"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.lineItem.newAmount,expression:"lineItem.newAmount"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.lineItem,"newAmount",e.target.multiple?i:i[0])},function(e){return t.updateTotal()}]}},[i("option",{attrs:{value:"0",disabled:""}},[t._v("Select Gross Loss Amount")]),t._v(" "),t._l(t.estimates,(function(e){return i("option",{domProps:{value:e.gross_loss,textContent:t._s("$"+e.gross_loss)}})}))],2),t._v(" "),t._m(3)]):t.usesEstimates(t.lineItem)&&t.lineItem.newAmount&&!t.hasEstimates()?i("button",{staticClass:"button is-small is-info",on:{click:function(e){return t.$emit("toggle-estimate")}}},[t._v("\n  \t\t\t\t\t\tCreate Estimate\n  \t\t\t\t\t")]):i("div",{staticClass:"control has-icons-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.lineItem.amount,expression:"lineItem.amount"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.lineItem.amount},on:{change:function(e){return t.updateTotal()},input:function(e){e.target.composing||t.$set(t.lineItem,"amount",e.target.value)}}}),t._v(" "),t._m(4)])])]):t._e(),t._v(" "),t.lineItem.has("rate")?i("div",{staticClass:"control has-icons-left",staticStyle:{width:"12.5%"}},["HourlyRateLineItem"==t.lineItem.type&&t.invoice.hasMultipleHourlyRates()?i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.lineItem.rate,expression:"lineItem.rate"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.lineItem,"rate",e.target.multiple?i:i[0])},function(e){return t.updateTotal()}]}},t._l(t.invoice.feeSchedule.hourly,(function(e){return i("option",{domProps:{value:e.amount,textContent:t._s("$"+e.amount)}})})),0)]):i("input",{directives:[{name:"model",rawName:"v-model",value:t.lineItem.rate,expression:"lineItem.rate"}],staticClass:"input is-static",attrs:{placeholder:"rate",type:"text",disabled:"amount"==t.lineItem.type||!t.lineItem.has("name"),readonly:!t.lineItem.has("name")},domProps:{value:t.lineItem.rate},on:{change:function(e){return t.updateTotal()},input:function(e){e.target.composing||t.$set(t.lineItem,"rate",e.target.value)}}}),t._v(" "),t._m(5)]):t._e()]),t._v(" "),i("div",{staticClass:"right is-line-item-totals",staticStyle:{width:"15%"}},[i("span",{staticStyle:{"font-weight":"700",padding:"0 .5em 0 0",color:"#343b4c"},domProps:{textContent:t._s("$"+t.lineItem.total)}}),t._v(" "),i("button",{staticClass:"delete is-small",on:{click:function(e){return t.$emit("line-item-removed",t.lineItem)}}})])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small",staticStyle:{"justify-content":"flex-start"}},[e("i",{staticClass:"fa fa-location-arrow"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left has-text-bold"},[e("small",[this._v("qty")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left has-text-bold"},[e("small",[this._v("amt")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left has-text-bold"},[e("small",[this._v("gla")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left has-text-bold"},[e("small",[this._v("amt")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left has-text-bold"},[e("small",[this._v("rate")])])}],!1,null,null,null).exports),j={name:"NewLineItem",props:["invoice","lineItemTypes","carrier"],data:function(){return{showMenu:!1}}},P=Object(c.a)(j,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"dropdown is-up",class:{"is-active":t.showMenu},staticStyle:{width:"100%",display:"block"},on:{click:function(e){t.showMenu=!t.showMenu},mouseleave:function(e){t.showMenu=!1}}},[t._m(0),t._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu2",role:"menu"}},[i("div",{staticClass:"dropdown-content"},[t._m(1),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("div",{staticClass:"dropdown-item"},t._l(t.lineItemTypes,(function(e){return i("a",{staticClass:"dropdown-item",on:{click:function(i){return t.$emit("new-line-item",e)}}},[t._v(t._s(e.name))])})),0)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"dropdown-trigger"},[e("div",{staticClass:"is-line-item",staticStyle:{"line-height":"1","background-color":"#e3eff8",border:"1px solid #209cee",cursor:"pointer"}},[e("div",{staticClass:"is-line-item-data is-flex has-text-info has-text-weight-medium",staticStyle:{"align-items":"center"}},[e("span",{staticClass:"icon has-text-info"},[e("i",{staticClass:"fa fa-plus-square"})]),this._v(" "),e("span",{},[this._v("Add another line item")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dropdown-item"},[e("strong",[this._v("Choose any line item type from the menu below...")])])}],!1,null,null,null).exports,$=i("aIKr"),N=i("FakD"),F=i("ypT6");function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=z(t);if(e){var n=z(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return q(this,i)}}function q(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(a,t);var e,i,s,n=B(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=n.call(this,t)).calculate(),e}return e=a,(i=[{key:"calculate",value:function(){return this.total=0,this.total=this.calculateDifference()}},{key:"calculateDifference",value:function(){var t=0,e=this.getFeeScheduleTier(this.amounts().amount),i=this.getFeeScheduleTier(this.amounts().newAmount);return(t=0!==e&&0!==i?e-i:0)<0?Math.abs(t).toFixed(2):(-Math.abs(t)).toFixed(2)}},{key:"amounts",value:function(){var t={};return this.isNumeric(this.amount)?t.amount=parseFloat(String(this.amount).replace(/,/g,"")):t.amount=this.amount,this.isNumeric(this.newAmount)?t.newAmount=parseFloat(String(this.newAmount).replace(/,/g,"")):t.newAmount=this.newAmount,t}}])&&D(e.prototype,i),s&&D(e,s),a}(F.a);function U(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return W(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return W(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){r=!0,a=t},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw a}}}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var Y={name:"Invoice",props:["invoice","carrier"],components:{lineItem:R,newLineItem:P,dropdown:b,invoiceOptions:I},created:function(){this.invoice instanceof S.a||this.buildInvoice()},mounted:function(){},data:function(){return o.a},computed:{hasInteractedWithFeeSchedule:function(){return"default"!==this.invoice.feeSchedule}},methods:{toggle:function(){this.invoice.options.show=!this.invoice.options.show,this.update()},toggleCreatingGrossLoss:function(){return this.creatingGrossLoss=!this.creatingGrossLoss},caclulate:function(){return this.invoice.calculate(),this.update()},addLineItem:function(t){return this.invoice.addLineItem(this.getlineItemType(t)),this.update()},removeLineItem:function(t){return this.invoice.removeLineItem(t),this.update()},update:function(){window.axios.put(this.route(),this.invoice.data()).then((function(t){return console.log(t.data)})).catch((function(t){return console.error(t)}))},remove:function(){var t=this;window.axios.delete(this.route()).then((function(e){return t.claim.invoices.splice(t.claim.invoices.indexOf(t.invoice),1)})).catch((function(t){return console.error(t)}))},createEstimate:function(){this.creatingEstimate=!this.creatingEstimate},updateFeeSchedule:function(){return this.setRates(),this.setMinimums(),this.invoice.recalculateLineItems(),this.update()},setRates:function(){this.invoice.feeSchedule.photoRate>0?(this.invoice.lineItems[2].rate=this.invoice.getHourlyRate(),this.invoice.lineItems[1].rate=this.invoice.getPhotoRate(),this.invoice.lineItems[4].rate=this.invoice.getMileageRate()):(this.invoice.lineItems[1].rate=this.invoice.getHourlyRate(),this.invoice.lineItems[3].rate=this.invoice.getMileageRate())},setMinimums:function(){this.invoice.feeSchedule.photoRate>0?(this.invoice.lineItems[1].minimum=this.invoice.getPhotoMinimum(),this.invoice.lineItems[4].minimum=this.invoice.getMileageMinimum()):this.invoice.lineItems[3].minimum=this.invoice.getMileageMinimum()},buildInvoice:function(){var t=new S.a({id:this.invoice.id,carrier:this.carrier});this.sync(this.assignInvoiceProperties(t))},assignInvoiceProperties:function(t){for(var e in this.invoice.data)t[e]="lineItems"==e?this.buildLineItems(this.invoice.data[e]):this.invoice.data[e];return t},buildLineItems:function(t){var e,i=[],s=U(t);try{for(s.s();!(e=s.n()).done;){var n=e.value;i.push(this.getlineItemType(n))}}catch(t){s.e(t)}finally{s.f()}return i},sync:function(t){return this.$emit("invoice-built",{invoice:t,idx:this.claim.invoices.indexOf(this.invoice)})},getlineItemType:function(t){switch(t.type){case"ServiceFeeLineItem":return new F.a(t);case"QuantifiableLineItem":return new C.a(t);case"MileageLineItem":return new N.a(t);case"HourlyRateLineItem":return this.invoice instanceof S.a&&(t.rate=this.invoice.getHourlyRate()),new $.a(t);case"AmountLineItem":return new w.a(t);case"DifferenceInTiersLineItem":return new H(t)}},route:function(){return"/api/claims/"+this.claim.id+"/invoices/"+this.invoice.id}}},Q=(i("8xy1"),{name:"Invoices",components:{invoice:Object(c.a)(Y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==t.invoice.options?i("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em","border-radius":"6px"}},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"level"},[i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("a",{staticClass:"button is-rounded is-outlined is-dark",on:{click:function(e){return t.toggle()}}},[i("span",{staticClass:"icon is-small"},[i("i",{staticClass:"fa",class:{"fa-chevron-down":!t.invoice.options.show,"fa-minus":t.invoice.options.show}})])])]),t._v(" "),i("invoice-options",{attrs:{invoice:t.invoice,lineItemTypes:t.lineItemTypes},on:{"new-line-item":t.addLineItem,"remove-line-item":t.removeLineItem,"invoice-deleted":t.remove,"toggle-estimate":t.createEstimate,"toggle-taxable":t.update,"fee-schedule-changed":t.updateFeeSchedule}})],1),t._v(" "),i("div",{staticClass:"level-right"},[t.hasInteractedWithFeeSchedule?i("div",{staticClass:"level-item"},[i("a",{staticClass:"button is-dark is-outlined is-rounded",attrs:{href:"/invoices/"+t.invoice.id,target:"_blank"}},[t._m(0),t._v(" "),i("span",[t._v("Download PDF")])])]):t._e(),t._v(" "),i("div",{staticClass:"level-item"},[t.invoice.options.show?i("button",{staticClass:"button is-danger is-rounded",on:{click:function(e){return t.remove()}}},[t._m(1)]):t._e()]),t._v(" "),t.invoice.options.show?t._e():i("div",{staticClass:"level-item"},[i("strong",{staticClass:"is-size-5"},[t._v("Total: "),i("span",{domProps:{textContent:t._s("$"+t.invoice.total)}})])])])]),t._v(" "),t.invoice.options.show?i("div",{attrs:{id:"invoice"}},[i("div",{staticClass:"level"},[i("div",{staticClass:"level-left"},[t.invoice.options.show?i("div",{staticClass:"level-item"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"select is-info"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.invoice.feeSchedule,expression:"invoice.feeSchedule"}],attrs:{id:"feeSchedule"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.invoice,"feeSchedule",e.target.multiple?i:i[0])},function(e){return t.updateFeeSchedule()}]}},[i("option",{attrs:{disabled:""},domProps:{value:"default"}},[t._v("Select a fee schedule to begin")]),t._v(" "),t._l(t.invoice.carrier.fee_schedules,(function(e){return i("option",{key:e.id,domProps:{value:e.data,textContent:t._s(e.label+" Fee Schedule")}})}))],2)])])])]):t._e()])]),t._v(" "),t._l(t.invoice.lineItems,(function(e,s){return t.hasInteractedWithFeeSchedule?i("line-item",{key:s,attrs:{invoice:t.invoice,lineItem:e,estimates:t.claim.estimates,id:s},on:{"line-item-removed":t.removeLineItem,"line-item-updated":t.caclulate,"toggle-estimate":t.createEstimate,"creating-gross-loss-toggled":t.toggleCreatingGrossLoss}}):t._e()})),t._v(" "),t.hasInteractedWithFeeSchedule?i("new-line-item",{attrs:{invoice:t.invoice,lineItemTypes:t.lineItemTypes,carrier:t.claim.carrier},on:{"new-line-item":t.addLineItem}}):t._e(),t._v(" "),t.hasInteractedWithFeeSchedule?i("div",{staticClass:"level",staticStyle:{padding:"1em","border-radius":".5em"}},[i("div",{staticClass:"level-left"}),t._v(" "),i("div",{staticClass:"level-right has-text-weight-bold is-size-5"},[i("span",{staticStyle:{"padding-right":"2em"}},[t._v("Sub Total: "),i("span",{domProps:{textContent:t._s(t.invoice.subTotal)}})]),t._v(" "),t.invoice.feeSchedule.taxable?i("span",{staticStyle:{"padding-right":"2em"}},[t._v("Tax "),i("small",[t._v("("+t._s(100*t.invoice.taxRate)+"%):")]),t._v(" "),i("span",{domProps:{textContent:t._s(t.invoice.tax)}})]):t._e(),t._v(" "),i("strong",{staticClass:"has-text-info"},[t._v("Total: "),i("span",{domProps:{textContent:t._s("$"+t.invoice.total)}})])])]):t._e()],2):t._e()])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-download"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-trash"})])}],!1,null,null,null).exports},data:function(){return o.a},mounted:function(){},methods:{update:function(t){this.claim.invoices.splice(t.idx,1,t.invoice)}}}),K=Object(c.a)(Q,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"title has-text-weight-bold"},[t._v("Invoices")]),t._v(" "),0===t.claim.invoices.length?i("p",{staticStyle:{"margin-bottom":"1em"}},[t._v("No invoices have been created for claim #"+t._s(t.claim.claim_number)+".")]):t._l(t.claim.invoices,(function(e){return i("invoice",{key:e.id,attrs:{invoice:e,estimates:t.claim.estimates,carrier:t.claim.carrier},on:{"invoice-built":t.update}})}))],2)}),[],!1,null,null,null).exports,J={name:"createInvoice",data:function(){return o.a},mounted:function(){},methods:{createSupplement:function(){alert("creating...")}}},X=Object(c.a)(J,(function(){var t=this.$createElement,e=this._self._c||t;return this.claim.invoices.length>0?e("a",{staticClass:"button is-secondary",on:{click:this.createSupplement}},[this._m(0),this._v(" "),e("span",[this._v("Supplement Invoice")])]):this._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-plus"})])}],!1,null,null,null).exports,V=i("eHHA"),Z={name:"NewEstimate",props:["claim","creatingEstimate"],components:{modal:V.a},data:function(){return{estimate:{},isCwop:!1,isErroneous:!1}},mounted:function(){this.makeNewEstimate(),this.getTodaysDate()},methods:{submit:function(){var t=this;this.estimate.post("/api/claims/"+this.claim.id+"/estimates").then((function(e){return t.$emit("estimate-created",e),t.makeNewEstimate()})).catch((function(t){console.error(t)}))},makeNewEstimate:function(){return this.isCwop=!1,this.isErroneous=!1,this.estimate=new r.a({gross_loss:(0).toFixed(2),claim_id:this.claim.id,user_id:window.user.id,date:"",time:""}),this.getTodaysDate()},getTodaysDate:function(){var t=new Date;this.estimate.date=t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),this.estimate.time=t.toTimeString().replace(/(GMT-\d{1,}\s{1,}\S[A-z]{1,}.{1,})/g,"").trim()}},computed:{}},tt=Object(c.a)(Z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{show:t.creatingEstimate,solid:!0}},[i("h3",{staticClass:"subtitle has-text-info has-text-weight-light"},[t._v("Claim# "+t._s(t.claim.claim_number))]),t._v(" "),i("h1",{staticClass:"title",staticStyle:{color:"#efefef"}},[t._v("Create Estimate")]),t._v(" "),i("hr",{staticStyle:{background:"#485269"}}),t._v(" "),i("div",{staticClass:"level"},[i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("div",{staticClass:"field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isErroneous,expression:"isErroneous"}],staticClass:"switch is-rounded is-small",attrs:{id:"is-erroneous",type:"checkbox",name:"is-erroneous",disabled:t.isCwop},domProps:{checked:Array.isArray(t.isErroneous)?t._i(t.isErroneous,null)>-1:t.isErroneous},on:{change:[function(e){var i=t.isErroneous,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=t._i(i,null);s.checked?a<0&&(t.isErroneous=i.concat([null])):a>-1&&(t.isErroneous=i.slice(0,a).concat(i.slice(a+1)))}else t.isErroneous=n},function(e){t.isErroneous?t.estimate.gross_loss="erroneous":t.estimate.gross_loss=0}]}}),t._v(" "),i("label",{attrs:{for:"is-erroneous"}},[t._v("Erroneous")])])]),t._v(" "),i("div",{staticClass:"level-item"},[i("div",{staticClass:"field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isCwop,expression:"isCwop"}],staticClass:"switch is-rounded is-small",attrs:{id:"is-cwop",type:"checkbox",name:"is-cwop",disabled:t.isErroneous},domProps:{checked:Array.isArray(t.isCwop)?t._i(t.isCwop,null)>-1:t.isCwop},on:{change:[function(e){var i=t.isCwop,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=t._i(i,null);s.checked?a<0&&(t.isCwop=i.concat([null])):a>-1&&(t.isCwop=i.slice(0,a).concat(i.slice(a+1)))}else t.isCwop=n},function(e){t.isCwop?t.estimate.gross_loss="cwop":t.estimate.gross_loss=0}]}}),t._v(" "),i("label",{attrs:{for:"is-cwop"}},[t._v("CWOP")])])])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"estimate"}},[t._v("Gross Loss:")]),t._v(" "),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.estimate.gross_loss,expression:"estimate.gross_loss"}],staticClass:"input",attrs:{name:"estimate",disabled:t.isErroneous||t.isCwop},domProps:{value:t.estimate.gross_loss},on:{input:function(e){e.target.composing||t.$set(t.estimate,"gross_loss",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"date"}},[t._v("Date:")]),t._v(" "),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.estimate.date,expression:"estimate.date"}],staticClass:"input",attrs:{name:"date"},domProps:{value:t.estimate.date},on:{input:function(e){e.target.composing||t.$set(t.estimate,"date",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"time"}},[t._v("Time:")]),t._v(" "),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.estimate.time,expression:"estimate.time"}],staticClass:"input",attrs:{name:"time"},domProps:{value:t.estimate.time},on:{input:function(e){e.target.composing||t.$set(t.estimate,"time",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"has-text-right",staticStyle:{"margin-top":"1.5em"}},[i("a",{staticClass:"is-size-7 has-text-white is-light is-small is-link",staticStyle:{"margin-right":"1em","margin-top":"2em"},on:{click:function(e){return t.$emit("toggle-estimate")}}},[t._v("cancel")]),t._v(" "),i("button",{staticClass:"button is-info is-small",on:{click:function(e){return t.submit()}}},[t._v("Create Estimate")])])])}),[],!1,null,null,null).exports;function et(t,e,i,s,n,a,o){try{var r=t[a](o),l=r.value}catch(t){return void i(t)}r.done?e(l):Promise.resolve(l).then(s,n)}var it={name:"createInvoice",data:function(){return o.a},mounted:function(){this.getLossAddress()},computed:{usesPhotos:function(){return this.claim.carrier.fee_schedules[0].data.photoRate>0},isSurchargeCity:function(){var t=this.claim.claim_data.client.addresses.find((function(t){return"Property"===t.type}));return t=t?{city:"not found"}:this.claim.claim_data.client.addresses.find((function(t){return"Home"===t.type})),!!["HOUSTON","CHICAGO","MINEOLA"].find((function(e){return e===t.city.trim().toUpperCase()}))}},methods:{createInvoice:function(){var t,e=this;return(t=L.a.mark((function t(){var i,s;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.getLossAddress().state,i="TX"===s?.0825:0,!e.isTaxable(s)||"TX"===s){t.next=6;break}return t.next=5,e.getTaxRate(e.getLossAddress());case 5:i=t.sent;case 6:return e.newInvoice=new S.a({taxRate:i}),t.next=9,e.post();case 9:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(s,n){var a=t.apply(e,i);function o(t){et(a,s,n,o,r,"next",t)}function r(t){et(a,s,n,o,r,"throw",t)}o(void 0)}))})()},setInvoiceData:function(t){this.newInvoice.total=parseFloat(this.newInvoice.total),this.newInvoice.subTotal=parseFloat(this.newInvoice.subTotal),this.newInvoice.id=t.id,this.newInvoice.carrier=this.claim.carrier,this.newInvoice.feeSchedule="default",this.setLineItemRates(),this.makeDefaultLineItems()},makeDefaultLineItems:function(){this.newInvoice.createServiceFeeLineItem(this.defaultLineItems.grossLoss),this.newInvoice.createAdjusterExpenseLineItems(this.adjusterExpenses())},setLineItemRates:function(){this.defaultLineItems.photos.rate=this.newInvoice.getPhotoRate(),this.defaultLineItems.mileage.rate=this.newInvoice.getMileageRate(),this.defaultLineItems.hours.rate=this.newInvoice.getHourlyRate()},setLineItemMinimums:function(){this.defaultLineItems.photos.minimum=this.newInvoice.feeSchedule.photoMinimum,this.defaultLineItems.mileage.minimum=this.newInvoice.feeSchedule.mileageMinimum},toggle:function(){return this.creatingInvoice=!this.creatingInvoice},setFeeSchedule:function(t){return this.newInvoice.feeSchedule=t},update:function(){var t=this;window.axios.put(this.getRoute()+this.newInvoice.id,this.newInvoice.data()).then((function(e){return t.claim.invoices.push(e.data)})).catch((function(t){return console.error(t)}))},post:function(){var t=this;window.axios.post(this.getRoute(),this.newInvoice.data()).then((function(e){t.setInvoiceData(e.data),t.update()})).catch((function(t){return console.error(t)}))},isTaxable:function(t){var e=this.taxableStates().find((function(e){return e===t})),i=this.claim.carrier.fee_schedules[0].data.taxable;return!(void 0===e||!i)},taxableStates:function(){return["TX","NM"]},getTaxRate:function(t){var e={method:"POST",url:"https://sales-tax-calculator.p.rapidapi.com/rates",headers:{"content-type":"application/json","x-rapidapi-key":"a29b750334mshc27f715175b14e7p15c95bjsnbc1e065bb876","x-rapidapi-host":"sales-tax-calculator.p.rapidapi.com",useQueryString:!0},data:{city:t.city,state:t.state,street:t.street,zip:t.zip}};return window.axios.request(e).then((function(t){return parseFloat(t.data.tax_rate)/100})).catch((function(t){return alert(t)}))},getRoute:function(){return"/api/claims/"+this.claim.id+"/invoices/"},getLossAddress:function(){var t=this.claim.claim_data.client.addresses.find((function(t){return"Property"===t.type}));return void 0!==t?t:this.claim.claim_data.client.addresses.find((function(t){return"Home"===t.type}))},adjusterExpenses:function(){var t=[this.defaultLineItems.hours,this.defaultLineItems.reimbursable,this.defaultLineItems.mileage];return this.usesPhotos&&t.splice(0,0,this.defaultLineItems.photos),21===this.claim.carrier.id&&(this.defaultLineItems.adminFee.rate=25,this.defaultLineItems.adminFee.quantity=1,t.push(this.defaultLineItems.adminFee)),20===this.claim.carrier.id&&this.isSurchargeCity&&t.push(this.defaultLineItems.surcharge),t}}},st=Object(c.a)(it,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"button is-info",on:{click:this.createInvoice}},[this._m(0),this._v(" "),e("span",[this._v("Create Invoice")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-plus"})])}],!1,null,null,null).exports,nt={name:"QuickInvoice",components:{Modal:V.a},data:function(){return o.a},mounted:function(){this.getTodaysDate()},methods:{submit:function(){this.setCarrierInvoiceData();var t=[this.photos,this.mileage,this.hours,this.reimbursable];this.newInvoice.createServiceFeeLineItem(this.grossLoss),this.newInvoice.createAdjusterExpenseLineItems(t),this.newInvoice.calculate(),this.claim.invoices.push(this.newInvoice),this.creatingInvoice=!1},getTodaysDate:function(){var t=new Date;this.date=t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),console.log(t.toTimeString()),this.time=t.toTimeString().replace(/(GMT-\d{1,}\s{1,}\S[A-z]{1,}.{1,})/g,"").trim()},toggle:function(){return this.creatingInvoice=!this.creatingInvoice},setCarrierInvoiceData:function(){this.newInvoice=new S.a;var t=JSON.parse(this.claim.carrier.pay_scale);this.newInvoice.carrier=this.claim.carrier,this.grossLoss.feeSchedule=t,this.hours.rate=parseFloat(t.hourly),this.photos.rate=t.photoRate,this.photos.minimum=t.photoMinimum,this.mileage.rate=t.mileageRate,this.mileage.minimum=t.mileageMinimum}}},at=(i("+ymO"),{name:"Billing",components:{newEstimate:tt,newInvoice:st,newSupplement:X,quickInvoice:Object(c.a)(nt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a",{staticClass:"button is-secondary",on:{click:t.toggle}},[t._m(0),t._v(" "),i("span",[t._v("Quick Invoice")])]),t._v(" "),i("modal",{attrs:{show:t.creatingInvoice,solid:!0}},[i("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("h3",{staticClass:"subtitle has-text-info has-text-weight-light"},[t._v("Claim# "+t._s(t.claim.claim_number))]),t._v(" "),i("h1",{staticClass:"title",staticStyle:{color:"#efefef"}},[t._v("Create "+t._s(t.claim.carrier.name)+" Invoice")]),t._v(" "),i("hr",{staticStyle:{background:"#485269"}}),t._v(" "),i("div",{staticClass:"columns"},[t.claim.estimates.length>0?i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"estimate"}},[t._v("Choose Estimate:")]),t._v(" "),i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.grossLoss.amount,expression:"grossLoss.amount"}],attrs:{name:"estimate"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.grossLoss,"amount",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"0"}},[t._v("Select an estimate")]),t._v(" "),t._l(t.claim.estimates,(function(e){return i("option",{domProps:{value:e.gross_loss,textContent:t._s(e.gross_loss)}})}))],2)])])]):t._e()]),t._v(" "),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"photos"}},[t._v("Photos:")]),t._v(" "),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.photos.quantity,expression:"photos.quantity"}],staticClass:"input",attrs:{name:"photos"},domProps:{value:t.photos.quantity},on:{input:function(e){e.target.composing||t.$set(t.photos,"quantity",e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"hours"}},[t._v("T&E Hours:")]),t._v(" "),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hours.quantity,expression:"hours.quantity"}],staticClass:"input",attrs:{name:"hours"},domProps:{value:t.hours.quantity},on:{input:function(e){e.target.composing||t.$set(t.hours,"quantity",e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"mileage"}},[t._v("Mileage:")]),t._v(" "),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.mileage.quantity,expression:"mileage.quantity"}],staticClass:"input",attrs:{name:"mileage"},domProps:{value:t.mileage.quantity},on:{input:function(e){e.target.composing||t.$set(t.mileage,"quantity",e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:"reimbursable"}},[t._v("Reimbursable:")]),t._v(" "),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.reimbursable.amount,expression:"reimbursable.amount"}],staticClass:"input",attrs:{name:"reimbursable"},domProps:{value:t.reimbursable.amount},on:{input:function(e){e.target.composing||t.$set(t.reimbursable,"amount",e.target.value)}}})])])])]),t._v(" "),i("hr",{staticStyle:{background:"#485269"}}),t._v(" "),i("div",{staticClass:"has-text-right",staticStyle:{"margin-top":"1.5em"}},[i("a",{staticClass:"is-size-7 has-text-white is-light is-small is-link",staticStyle:{"margin-right":"1em","margin-top":"2em"},on:{click:function(e){return e.preventDefault(),t.toggle(e)}}},[t._v("cancel")]),t._v(" "),i("button",{staticClass:"button is-info is-small",attrs:{type:"submit"}},[t._v("Create Invoice")])])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-plus"})])}],!1,null,null,null).exports,invoices:K},data:function(){return o.a},methods:{addEstimate:function(t){return this.claim.estimates.push(t),this.creatingEstimate=!1}}}),ot=Object(c.a)(at,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("invoices"),t._v(" "),i("new-invoice"),t._v(" "),i("new-supplement"),t._v(" "),i("new-estimate",{attrs:{claim:t.claim,"creating-estimate":t.creatingEstimate},on:{"toggle-estimate":function(e){t.creatingEstimate=!t.creatingEstimate},"estimate-created":t.addEstimate}})],1)])}),[],!1,null,null,null).exports,rt={name:"GrossLoss",data:function(){return o.a}},lt={name:"Title",components:{grossLoss:Object(c.a)(rt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns"},[i("div",{staticClass:"column gross-loss"},[i("div",{staticClass:"card has-ribbon has-ribbon-left"},[i("div",{staticClass:"card-content"},[i("h3",{staticClass:"subtitle",staticStyle:{color:"#908F8F","font-size":".8em"}},[t._v("Gross Loss Amount")]),t._v(" "),i("h1",{staticClass:"title has-text-info",staticStyle:{"font-size":"2em","font-weight":"700",color:"#64C6A3"}},[t._v("$"+t._s(t.claim.gross_loss))])])])]),t._v(" "),i("div",{staticClass:"column gross-loss"},[i("div",{staticClass:"card has-ribbon has-ribbon-left"},[i("div",{staticClass:"card-content"},[i("h3",{staticClass:"subtitle",staticStyle:{color:"#908F8F","font-size":".8em"}},[t._v("Days Open")]),t._v(" "),i("h1",{staticClass:"title has-text-dark",staticStyle:{"font-size":"2em","font-weight":"700",color:"#64C6A3"}},[t._v(t._s("7"))])])])]),t._v(" "),i("div",{staticClass:"column gross-loss"},[i("div",{staticClass:"card has-ribbon has-ribbon-left"},[i("div",{staticClass:"card-content"},[i("h3",{staticClass:"subtitle",staticStyle:{color:"#908F8F","font-size":".8em"}},[t._v("Invoices")]),t._v(" "),i("h1",{staticClass:"title has-text-dark",staticStyle:{"font-size":"2em","font-weight":"700",color:"#64C6A3"}},[t._v(t._s("1"))])])])]),t._v(" "),i("div",{staticClass:"column gross-loss"},[i("div",{staticClass:"card has-ribbon has-ribbon-left"},[i("div",{staticClass:"card-content"},[i("h3",{staticClass:"subtitle",staticStyle:{color:"#908F8F","font-size":".8em"}},[t._v("Notes")]),t._v(" "),i("h1",{staticClass:"title has-text-dark",staticStyle:{"font-size":"2em","font-weight":"700",color:"#64C6A3"}},[t._v(t._s("0"))])])])])])}),[],!1,null,null,null).exports},data:function(){return o.a},methods:{setStatusType:function(t){return this.$emit("status-set",t),this.$emit("new-status-toggle")},scrollTop:function(){window.scrollTo(0,0)}}},ct=Object(c.a)(lt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0"}},[i("div",{staticClass:"column"},[i("span",{staticClass:"is-hidden-mobile"},[t._m(0),t._v(" "),i("h1",{staticClass:"title is-hidden-tablet-only"},[i("span",{staticClass:"claim-number",attrs:{"data-badge":"2"}},[i("span",{staticClass:"icon is-large"},[i("i",{staticClass:"fa fa-1x is-lock has-text-grey",class:{"fa-lock":t.locked,"fa-unlock-alt":!t.locked},on:{click:function(e){t.locked=!t.locked}}})]),t._v(t._s(t.claim.claim_number)+"\n\t\t\t\t\t")]),t._v(" "),i("span",{staticClass:"divider",staticStyle:{color:"#439BD1"}},[t._v("|")]),t._v(" "),i("span",{staticClass:"carrier"},[t._v(" "+t._s(t.claim.carrier.name))])])]),t._v(" "),i("div",{staticClass:"is-hidden-desktop"},[t._m(1),t._v(" "),i("h1",{staticClass:"title",staticStyle:{"margin-bottom":"-.25rem"}},[i("span",{staticClass:"claim-number"},[t._v(t._s(t.claim.claim_number))])]),t._v(" "),i("h3",{staticStyle:{"font-size":"1.5em",margin:"0"}},[t._v(t._s(t.claim.carrier.name)+" ")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"subtitle is-hidden-tablet-only"},[e("span",{staticStyle:{color:"#bbb"}},[this._v("Claim#")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("span",{staticStyle:{color:"#bbb"}},[this._v("Claim#")])])}],!1,null,null,null).exports,ut={name:"ClaimMenu",data:function(){return o.a},methods:{setStatusType:function(t){return this.$emit("status-set",t),this.$emit("new-status-toggle")}}},dt=Object(c.a)(ut,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"#",staticStyle:{"margin-bottom":"1em"}},[i("div",{staticClass:"dropdown",on:{click:function(e){t.active=!t.active}}},[i("button",{staticClass:"button is-menu is-rounded is-grey",class:{"is-info":!t.active},staticStyle:{"margin-top":".5rem"},attrs:{"aria-haspopup":"true","aria-controls":"menu"}},[t.active?i("span",[t._m(2),t._v(" "),i("span",{staticStyle:{"font-weight":"700","font-size":".75em",position:"relative",top:"-1px",left:"-4px"}},[t._v("\n\t      \t\t\t\tclose\n\t      \t\t\t")])]):i("span",[t._m(0),t._v(" "),t._m(1)])])]),t._v(" "),t.active?i("div",{staticClass:"main-menu",attrs:{id:"menu",role:"menu"}},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("h3",{staticClass:"main-menu-title"},[t._v("Statuses")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.setStatusType(t.statusesList[1])}}},[t._m(3),t._v(" Assign Adjuster")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.setStatusType(t.statusesList[2])}}},[t._m(4),t._v(" Assign Reviewer")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.setStatusType(t.statusesList[3])}}},[t._m(5),t._v(" Reassign")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.setStatusType(t.statusesList[4])}}},[t._m(6),t._v(" Customer Contacted")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.setStatusType(t.statusesList[5])}}},[t._m(7),t._v(" Site Inspected")])]),t._v(" "),i("div",{staticClass:"column"},[i("h3",{staticClass:"main-menu-title is-hidden-mobile"},[t._v("")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.setStatusType(t.statusesList[6])}}},[t._m(8),t._v(" Submit an Estimate")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),t._m(9),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.setStatusType({type:"date",name:"File Closed"})}}},[t._m(10),t._v(" Close File")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.setStatusType({type:"date",name:"File Reopened"})}}},[t._m(11),t._v(" Reopen File")])]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),i("div",{staticClass:"column is-hidden-desktop"},[i("a",{staticClass:"delete",on:{click:function(e){t.active=!t.active,t.scrollTop()}}}),t._v(" "),i("small",[i("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.active=!t.active,t.scrollTop()}}},[t._v("close menu")])])])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-chevron-circle-down",attrs:{"aria-hidden":"true"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon has-text-info is-small"},[e("i",{staticClass:"fa fa-plus-circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon has-text-info is-small"},[e("i",{staticClass:"fa fa-plus-circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon has-text-info is-small"},[e("i",{staticClass:"fa fa-user-plus"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon has-text-info is-small"},[e("i",{staticClass:"fa fa-mobile"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon has-text-info is-small"},[e("i",{staticClass:"fa fa-search"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon has-text-info is-small"},[e("i",{staticClass:"fa fa-money"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"}},[e("span",{staticClass:"icon has-text-info is-small"},[e("i",{staticClass:"fa fa-usd"})]),this._v(" Issue an Estimate Correction")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon has-text-info is-small"},[e("i",{staticClass:"fa fa-folder-o"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon has-text-info is-small"},[e("i",{staticClass:"fa fa-folder-open-o"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column"},[i("h3",{staticClass:"main-menu-title"},[t._v("Billing")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"}},[i("span",{staticClass:"icon has-text-info is-small"},[i("i",{staticClass:"fa fa-plus-circle"})]),t._v(" Create an Invoice")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"}},[i("span",{staticClass:"icon has-text-info is-small"},[i("i",{staticClass:"fa fa-credit-card"})]),t._v(" Add Adjuster Expenses")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"}},[i("span",{staticClass:"icon has-text-info is-small"},[i("i",{staticClass:"fa fa-file-pdf-o"})]),t._v(" Preview Invoice")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"}},[i("span",{staticClass:"icon has-text-info is-small"},[i("i",{staticClass:"fa fa-paper-plane-o"})]),t._v(" Send Invoice to Carrier")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column"},[i("h3",{staticClass:"main-menu-title"},[t._v("Communication")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"}},[i("span",{staticClass:"icon has-text-info is-small"},[i("i",{staticClass:"fa fa-comments-o"})]),t._v(" Message Reviewer")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"}},[i("span",{staticClass:"icon has-text-info is-small"},[i("i",{staticClass:"fa fa-comment-o"})]),t._v(" Message Dispatch")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"}},[i("span",{staticClass:"icon has-text-info is-small"},[i("i",{staticClass:"fa fa-user-times"})]),t._v(" Request Reassignment")]),t._v(" "),i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"is-menu-button dropdown-item",attrs:{href:"#"}},[i("span",{staticClass:"icon has-text-info is-small"},[i("i",{staticClass:"fa fa-map-marker"})]),t._v(" Send Location Data (sms) ")])])}],!1,null,null,null).exports,mt={name:"Navigation",data:function(){return o.a}},ft=Object(c.a)(mt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"tabs is-left"},[e("ul",[e("router-link",{attrs:{to:"/",tag:"li",exact:""}},[e("a",[e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-map-marker",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("span",[this._v("Claim Data")])])]),this._v(" "),e("router-link",{attrs:{to:"/billing",tag:"li"}},[e("a",[e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-calculator",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("span",[this._v("Billing")])])]),this._v(" "),this._m(0)],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",[e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-file-text-o",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("span",[this._v("Notes")])])])}],!1,null,null,null).exports,ht={name:"Assignees",mounted:function(){},computed:{hasAdjuster:function(){return!!this.claim.hasOwnProperty("adjuster")}},data:function(){return o.a},methods:{getAssignmentStatus:function(){return this.hasAdjuster?this.statusesList[3]:this.statusesList[1]}}},vt=Object(c.a)(ht,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns is-mobile assignments",staticStyle:{"text-align":"center","padding-top":"3rem"}},[i("div",{staticClass:"column is-half assignment"},[i("a",{on:{mouseup:function(e){t.$emit("status-set",t.getAssignmentStatus()),t.$emit("new-status-toggle")}}},[t.claim.adjuster.avatar?i("img",{staticStyle:{"border-radius":"356px",border:"10px solid #343b4c",cursor:"pointer"},attrs:{src:t.claim.adjuster.avatar.path,alt:t.claim.adjuster.name,width:"100%",height:"auto"},on:{click:function(e){t.addingAvatar=!0}}}):i("span",{staticClass:"icon is-standard"},[i("i",{staticClass:"fa fa-8x fa-user-circle-o"})])]),t._v(" "),i("h3",{staticStyle:{color:"#439BD1","padding-top":"1rem",overflow:"hidden","font-size":".8em","font-weight":"700"}},[t.hasAdjuster?i("a",{attrs:{href:"/users/"+t.claim.adjuster.id}},[t._v(" "+t._s(t.claim.adjuster.name))]):i("span",[t._v("Unassignable")])]),t._v(" "),i("h4",{staticStyle:{color:"#aaa","margin-top":"-.25em"}},[t._v("Adjuster")])])])}),[],!1,null,null,null).exports,pt={name:"Timeline",mounted:function(){},computed:{},data:function(){return o.a}},_t=Object(c.a)(pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content",staticStyle:{margin:"3rem"}},[i("div",{staticClass:"timeline"},[t._l(t.claim.statuses,(function(e){return i("div",{staticClass:"timeline-item"},[e.hasOwnProperty(t.user)?i("div",{staticClass:"timeline-marker is-image is-32x32"},[i("a",{attrs:{href:"/users/"+e.user.id}},[i("img",{attrs:{src:e.user.avatar.path,alt:e.user.name}})])]):i("div",{staticClass:"timeline-marker is-secondary"}),t._v(" "),i("div",{staticClass:"timeline-content"},[i("p",{staticClass:"heading",domProps:{textContent:t._s(e.date+"  "+e.time)}}),t._v(" "),i("p",[i("strong",{domProps:{textContent:t._s(e.name)}}),t._v(" "),i("br"),t._v(" "),e.user?i("span",{domProps:{textContent:t._s(e.user.name)}}):i("span",{domProps:{textContent:t._s("System")}}),t._v(" "),e.value?i("span",[i("br"),i("span",{domProps:{textContent:t._s(e.value)}})]):t._e()])])])})),t._v(" "),t._m(0)],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"timeline-header"},[e("span",{staticClass:"tag is-medium is-secondary"},[this._v("FNOL")])])}],!1,null,null,null).exports,gt=i("4Gil");n.a.use(a.default);var yt=[{path:"/",name:"home",component:g},{path:"/billing",name:"billing",component:ot}],bt=new a.default({routes:yt,linkActiveClass:"is-active"});new n.a({name:"Claim",router:bt,components:{titleHeader:ct,claimMenu:dt,claimNav:ft,assignees:vt,timeline:_t,newStatus:gt.a},created:function(){this.claim=claim,this.claim.claim_data=JSON.parse(this.claim.claim_data),this.user=user,this.hasAlert=!0,this.alert.message="You have been assigned to this claim please confirm or reject this assignment"},mounted:function(){this.claim.assignments.length>0&&(this.adjuster=this.claim.assignments.find((function(t){return t.type="adjuster"})))},data:function(){return o.a},methods:{setStatus:function(t){return console.log(t),this.newStatus.name=t.name,this.newStatus.type=t.type},toggleCreatingNewStatus:function(){return console.log("toggled"),this.creatingNewStatus=!this.creatingNewStatus}}}).$mount("#claim")},PoRO:function(t,e,i){var s=i("qYsC");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(s,n);s.locals&&(t.exports=s.locals)},URgk:function(t,e,i){(function(t){var s=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(n.call(setTimeout,s,arguments),clearTimeout)},e.setInterval=function(){return new a(n.call(setInterval,s,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(s,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i("yLpj"))},YBdB:function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var s,n,a,o,r,l=1,c={},u=!1,d=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?s=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){h(t.data)},s=function(t){a.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(n=d.documentElement,s=function(t){var e=d.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):s=function(t){setTimeout(h,0,t)}:(o="setImmediate$"+Math.random()+"$",r=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&h(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),s=function(e){t.postMessage(o+e,"*")}),m.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return c[l]=n,s(l),l++},m.clearImmediate=f}function f(t){delete c[t]}function h(t){if(u)setTimeout(h,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(void 0,i)}}(e)}finally{f(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i("yLpj"),i("8oxB"))},"aET+":function(t,e,i){var s,n,a={},o=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=s.apply(this,arguments)),n}),r=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var s=r.call(this,t,i);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}}(),c=null,u=0,d=[],m=i("9tPo");function f(t,e){for(var i=0;i<t.length;i++){var s=t[i],n=a[s.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](s.parts[o]);for(;o<s.parts.length;o++)n.parts.push(y(s.parts[o],e))}else{var r=[];for(o=0;o<s.parts.length;o++)r.push(y(s.parts[o],e));a[s.id]={id:s.id,refs:1,parts:r}}}}function h(t,e){for(var i=[],s={},n=0;n<t.length;n++){var a=t[n],o=e.base?a[0]+e.base:a[0],r={css:a[1],media:a[2],sourceMap:a[3]};s[o]?s[o].parts.push(r):i.push(s[o]={id:o,parts:[r]})}return i}function v(t,e){var i=l(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=d[d.length-1];if("top"===t.insertAt)s?s.nextSibling?i.insertBefore(e,s.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),d.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=l(t.insertAt.before,i);i.insertBefore(e,n)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function _(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var s=function(){0;return i.nc}();s&&(t.attrs.nonce=s)}return g(e,t.attrs),v(t,e),e}function g(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function y(t,e){var i,s,n,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var o=u++;i=c||(c=_(e)),s=w.bind(null,i,o,!1),n=w.bind(null,i,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),v(t,e),e}(e),s=I.bind(null,i,e),n=function(){p(i),i.href&&URL.revokeObjectURL(i.href)}):(i=_(e),s=x.bind(null,i),n=function(){p(i)});return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=h(t,e);return f(i,e),function(t){for(var s=[],n=0;n<i.length;n++){var o=i[n];(r=a[o.id]).refs--,s.push(r)}t&&f(h(t,e),e);for(n=0;n<s.length;n++){var r;if(0===(r=s[n]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete a[r.id]}}}};var b,C=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,i,s){var n=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=C(e,n);else{var a=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function x(t,e){var i=e.css,s=e.media;if(s&&t.setAttribute("media",s),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function I(t,e,i){var s=i.css,n=i.sourceMap,a=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||a)&&(s=m(s)),n&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([s],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}},aIKr:function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=l(t);if(e){var n=l(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return r(this,i)}}function r(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}i.d(e,"a",(function(){return c}));var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(i,t);var e=o(i);function i(){return n(this,i),e.apply(this,arguments)}return i}(i("I8lY").a)},bGuW:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,"\n.select select {\n    \ttext-rendering: auto !important;\n}\n",""])},eHHA:function(t,e,i){"use strict";var s={name:"Modal",props:["show","solid"],data:function(){return{}}},n=i("KHd+"),a=Object(n.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal",class:{"is-active":this.show,"is-solid":this.solid},staticStyle:{position:"fixed"}},[e("div",{staticClass:"modal-background"}),this._v(" "),e("div",{staticClass:"modal-content"},[this._t("default")],2)])}),[],!1,null,null,null);e.a=a.exports},gWvg:function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=l(t);if(e){var n=l(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return r(this,i)}}function r(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}i.d(e,"a",(function(){return c}));var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,i,s,r=o(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=r.call(this,t)).calculate(),e}return e=l,(i=[{key:"calculate",value:function(){return this.total=parseFloat(this.amount).toFixed(2)}}])&&n(e.prototype,i),s&&n(e,s),l}(i("kK6B").a)},iufW:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var s=i("ypT6"),n=i("I8lY"),a=(i("FakD"),i("gWvg")),o=i("aIKr");function r(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){r=!0,a=t},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw a}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function c(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var u=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineItems=[],this.userId=window.user?window.user.id:0,this.subTotal=0,this.tax=0,this.taxRate=0,this.total=0,this.carrier={},this.options={mcm:!1,cwop:!1,show:!0,taxable:!1},this.feeSchedule={},e)this[i]=e[i]}var e,i,l;return e=t,(i=[{key:"data",value:function(){var t,e={},i=r(this.getInvoiceProperties());try{for(i.s();!(t=i.n()).done;){var s=t.value;e[s]=this[s]}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"calculate",value:function(){var t=this;return this.subTotal=0,this.total=0,this.lineItems.forEach((function(e){t.subTotal=parseFloat(t.subTotal)+parseFloat(e.total)})),this.subTotal=+this.subTotal.toFixed(2),this.tax=this.calculateTax(),this.total=(this.subTotal+this.tax).toFixed(2),isNaN(this.total)?this.total=0:this.total}},{key:"calculateTax",value:function(){var t=this,e=this.getTaxableLineItems(),i=0;return e.forEach((function(e){return i+=+ +e.total*+t.taxRate})),+i.toFixed(2)}},{key:"getTaxableLineItems",value:function(){return this.lineItems.filter((function(t){return!0===t.taxable}))}},{key:"createServiceFeeLineItem",value:function(t){t.feeSchedule=this.feeSchedule,this.addLineItem(new s.a(t))}},{key:"createAdjusterExpenseLineItems",value:function(t){var e=this;t.forEach((function(t){return"AmountLineItem"===t.type?e.addLineItem(new a.a(t)):"HourlyRateLineItem"===t.type?e.addLineItem(new o.a(t)):e.addLineItem(new n.a(t))}))}},{key:"addLineItem",value:function(t){return this.lineItems.push(t),this.calculate()}},{key:"removeLineItem",value:function(t){return this.lineItems.splice(this.lineItems.indexOf(t),1),this.calculate()}},{key:"recalculateLineItems",value:function(){var t=this;return this.lineItems.forEach((function(e){e.feeSchedule=t.feeSchedule,e.calculate()})),this.calculate()}},{key:"getHourlyRate",value:function(){return this.hasMultipleHourlyRates()?this.getSortedHourlyRate():this.feeSchedule.hourly}},{key:"getSortedHourlyRate",value:function(){return this.feeSchedule.hourly.sort((function(t,e){return t.amount-e.amount})),this.feeSchedule.hourly[0].amount}},{key:"hasMultipleHourlyRates",value:function(){return!!Array.isArray(this.feeSchedule.hourly)}},{key:"getMileageRate",value:function(){return this.feeSchedule.mileageRate}},{key:"getMileageMinimum",value:function(){return this.feeSchedule.mileageMinimum}},{key:"getPhotoRate",value:function(){return this.feeSchedule.photoRate}},{key:"getPhotoMinimum",value:function(){return this.feeSchedule.photoMinimum}},{key:"getInvoiceProperties",value:function(){return["total","subTotal","feeSchedule","options","tax","taxRate","lineItems","userId"]}},{key:"subTotal",get:function(){return this._subTotal},set:function(t){this._subTotal=t}},{key:"total",get:function(){return this._total},set:function(t){this._total=t}},{key:"carrier",get:function(){return this._carrier},set:function(t){this._carrier=t}},{key:"feeSchedule",get:function(){return this._feeSchedule},set:function(t){this._feeSchedule=t}},{key:"show",get:function(){return this._show},set:function(t){this._show=t}}])&&c(e.prototype,i),l&&c(e,l),t}()},kK6B:function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}i.d(e,"a",(function(){return n}));var n=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e)this[i]=e[i]}var e,i,n;return e=t,(i=[{key:"has",value:function(t){return!!this.hasOwnProperty(t)}},{key:"feeSchedule",get:function(){return this._feeSchedule},set:function(t){return this._feeSchedule=t}}])&&s(e.prototype,i),n&&s(e,n),t}()},mLhc:function(t,e,i){var s=function(t){"use strict";var e=Object.prototype,i=e.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},n=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function r(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{r({},"")}catch(t){r=function(t,e,i){return t[e]=i}}function l(t,e,i,s){var n=e&&e.prototype instanceof d?e:d,a=Object.create(n.prototype),o=new x(s||[]);return a._invoke=function(t,e,i){var s="suspendedStart";return function(n,a){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===n)throw a;return S()}for(i.method=n,i.arg=a;;){var o=i.delegate;if(o){var r=b(o,i);if(r){if(r===u)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===s)throw s="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);s="executing";var l=c(t,e,i);if("normal"===l.type){if(s=i.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(s="completed",i.method="throw",i.arg=l.arg)}}}(t,i,o),a}function c(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function d(){}function m(){}function f(){}var h={};h[n]=function(){return this};var v=Object.getPrototypeOf,p=v&&v(v(I([])));p&&p!==e&&i.call(p,n)&&(h=p);var _=f.prototype=d.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){r(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var s;this._invoke=function(n,a){function o(){return new e((function(s,o){!function s(n,a,o,r){var l=c(t[n],t,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){s("next",t,o,r)}),(function(t){s("throw",t,o,r)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return s("throw",t,o,r)}))}r(l.arg)}(n,a,s,o)}))}return s=s?s.then(o,o):o()}}function b(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var s=c(i,t.iterator,e.arg);if("throw"===s.type)return e.method="throw",e.arg=s.arg,e.delegate=null,u;var n=s.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,a=function e(){for(;++s<t.length;)if(i.call(t,s))return e.value=t[s],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=_.constructor=f,f.constructor=m,m.displayName=r(f,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,r(t,o,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},g(y.prototype),y.prototype[a]=function(){return this},t.AsyncIterator=y,t.async=function(e,i,s,n,a){void 0===a&&(a=Promise);var o=new y(l(e,i,s,n),a);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},g(_),r(_,o,"Generator"),_[n]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var s=e.pop();if(s in t)return i.value=s,i.done=!1,i}return i.done=!0,i}},t.values=I,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function s(i,s){return o.type="throw",o.arg=t,e.next=i,s&&(e.method="next",e.arg=void 0),!!s}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],o=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var r=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(r&&l){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(r){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(t,e){for(var s=this.tryEntries.length-1;s>=0;--s){var n=this.tryEntries[s];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),w(i),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var s=i.completion;if("throw"===s.type){var n=s.arg;w(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:I(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=s}catch(t){Function("r","regeneratorRuntime = r")(s)}},o0o1:function(t,e,i){t.exports=i("mLhc")},qJw9:function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}i.d(e,"a",(function(){return o}));var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,i,n;return e=t,(i=[{key:"has",value:function(t){return this.errors.hasOwnProperty(t)}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"get",value:function(t){if(this.errors[t])return this.errors[t][0]}},{key:"record",value:function(t){this.errors=t}},{key:"clear",value:function(t){t?delete this.errors[t]:this.errors={}}}])&&s(e.prototype,i),n&&s(e,n),t}();function a(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var o=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.originalData=e,e)this[i]=e[i];this.errors=new n}var e,i,s;return e=t,(i=[{key:"data",value:function(){var t={};for(var e in this.originalData)t[e]=this[e];return t}},{key:"reset",value:function(){for(var t in this.originalData)this[t]="";this.errors.clear()}},{key:"get",value:function(t){return this.errors[t][0]}},{key:"post",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.submit("post",t,e)}},{key:"put",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.submit("put",t,e)}},{key:"patch",value:function(t){return this.submit("patch",t)}},{key:"delete",value:function(t){return this.submit("delete",t)}},{key:"submit",value:function(t,e){var i=this,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise((function(n,a){axios[t](e,i.data()).then((function(t){i.onSuccess(t.data,s),n(t.data)})).catch((function(t){console.error(t),i.onFail(t.response.data.errors),a(t.response.data.errors)}))}))}},{key:"onSuccess",value:function(t,e){1==e&&this.reset()}},{key:"onFail",value:function(t){this.errors.record(t)}}])&&a(e.prototype,i),s&&a(e,s),t}()},qYsC:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,"\n.icon small {\n\tfont-size: .75em;\n}\n",""])},t9sP:function(t,e,i){"use strict";i("0hvd")},yLpj:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},ypT6:function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function r(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=d(t);if(e){var n=d(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return u(this,i)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}i.d(e,"a",(function(){return m}));var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(u,t);var e,i,s,o=c(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=o.call(this,t)).calculate(),e}return e=u,(i=[{key:"calculate",value:function(){return this.total=0,this.total=this.getFeeScheduleTier(this.amount)}},{key:"getFeeScheduleTier",value:function(t){return this.isNumeric(t)?this.getNumericTier(t):this.getNonNumericTier(t)}},{key:"calculateNumericTier",value:function(){return this.getNumericTier(amount)}},{key:"getNumericTier",value:function(t){t=parseFloat(String(t).replace(/,/g,""));var e,i=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=a(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){l=!0,o=t},f:function(){try{r||null==i.return||i.return()}finally{if(l)throw o}}}}(this.getNumericTiers());try{for(i.s();!(e=i.n()).done;){var s=e.value;if(s>=t)return parseFloat(+this.feeSchedule[s]).toFixed(2);if(this.highestTier()<t)return this.isTierPercentageOfGrossLoss(this.highestTier())?this.calculatePercentageOfGrossLoss(this.highestTier(),t):(0).toFixed(2)}}catch(t){i.e(t)}finally{i.f()}}},{key:"calculatePercentageOfGrossLoss",value:function(t,e){return(e*+this.feeSchedule[t]).toFixed(2)}},{key:"isTierPercentageOfGrossLoss",value:function(t){return+this.feeSchedule[t]<1&&+this.feeSchedule[t]>0}},{key:"setDescription",value:function(){}},{key:"getNonNumericTier",value:function(t){return this.feeSchedule[t]?parseFloat(+this.feeSchedule[t]).toFixed(2):(0).toFixed(2)}},{key:"getNumericTiers",value:function(){var t=this,e=Object.keys(this.feeSchedule);return(e=e.filter((function(e){return t.isNumeric(e)}))).map((function(t){return parseFloat(t)}))}},{key:"highestTier",value:function(){return Math.max.apply(Math,n(this.getNumericTiers()))}},{key:"isNumeric",value:function(t){return!Number.isNaN(parseFloat(t))}}])&&r(e.prototype,i),s&&r(e,s),u}(i("kK6B").a)},z5w1:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,"\n.is-line-item input.input {\n\t/*border: none;*/\n\tborder-radius: 0;\n\tfont-weight: 400;\n\tbackground: #f8f7f7;\n\t/*background: #fff;*/\n\t/*font-size: .85em;\n\tline-height: .85em;*/\n\tcolor: #343b4b;\n\tborder-radius: 6px;\n}\n.select:not(.is-multiple) {\n\theight: 100%;\n}\n.is-line-item input.input:hover {\n\t/*border-bottom: 1px solid #f0f0f0;*/\n}\nlabel.label {\n\tcolor: #bbb;\n}\n.control {\n\tmargin-right: .5em;\n}\n.tooltip:hover::after {\n\tbackground: #343b4c;\n}\n.tooltip:focus::before, .tooltip:hover::before {\n\tborder-color: #343b4c transparent transparent transparent;\n}\n.control.has-icons-left .icon, .control.has-icons-right .icon {\n\tpointer-events: auto;\n}\n.select select{\n\t/*border: none;*/\n\tbackground: #f8f7f7;\n\t/*background: #fff;*/\n\t/*border-bottom: 1px solid #f0f0f0;*/\n\tborder-radius: 6px;\n\t/*font-size: .85em;*/\n\t/*height: 2em;*/\n\tfont-weight: 500;\n}\n.select select:focus{\n\t/*border: none;*/\n}\n.select:not(.is-multiple):not(.is-loading)::after, .navbar-link:not(.is-arrowless)::after {\n\tborder-color: #cccccc;\n}\n.is-line-item {\n\tbackground: #eeeeee;\n\t/*margin: 0 0 .5em 0;\n\tpadding: .5em;*/\n\t/*background-color: white;*/\n\tborder-radius: 5px;\n\t/*box-shadow: 0 2px 5px rgba(10, 10, 10, 0.1), 0 0 0 0 rgba(10, 10, 10, 0.1);*/\n\tcolor: #343b4c;\n\tdisplay: flex;\n\tmargin: 0 0 .6em 0;\n\tpadding: .5em;\n}\n.is-line-item-data {\n\tdisplay: flex;\n\t/*justify-content: flex-start;*/\n\t/*align-items: center;*/\n}\n.items-start {\n\talign-items: flex-start;\n}\n.items-center {\n\talign-items: center;\n}\n.is-line-item-totals {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\t/*justify-items: center;*/\n\talign-items: center;\n}\n.is-line-item-column {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n.is-line-item .card-content {\n\tpadding: .60rem;\n}\n.is-line-item .icon small {\n\tfont-size: .75em;\n}\n.icon {\n\t/*line-height: .85em;\n\tfont-size: .85em;*/\n}\n.control.has-icons-left .icon, .control.has-icons-right .icon {\n\tcolor: #bbb;\n}\nspan.icon.is-xsmall {\n\twidth: .75em;\n\theight: .75em;\n}\ntable thead tr th {\n\tfont-size: .6em;\n}\n",""])}},[[13,0,1]]]);